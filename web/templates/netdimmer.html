<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>netDimmer - HelmSmart Dimmer </title>
	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
	
	<link href="{{ url_for('static', filename='css/pick-a-color-1.1.8.min.css') }}" rel="stylesheet" type="text/css" />	
		
		
		
	<script type="text/javascript" src="{{ url_for('static', filename='js/modernizr-2.6.2.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.unobtrusive-ajax.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.unobtrusive.js') }}"></script>
	 <script type="text/javascript" src="{{ url_for('static', filename='js/PGNSelectFunctions.js') }}" ></script>
	 <script src="{{ url_for('static', filename='js/ParseN2KDataJSON.js') }}" type="text/javascript"></script>

  <script type="text/javascript" src="{{ url_for('static', filename='js/ChangeDialStyleJSON.js') }}" ></script>

	<script type="text/javascript" src="{{ url_for('static', filename='js/tween-min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/SSsteelseries-min.js') }} " ></script>

 
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-ui-timepicker-addon.js') }}"></script> -->
       <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
       <script type="text/javascript" src="{{ url_for('static', filename='js/jscolor.js') }} " ></script>
	   
	<!--   <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-datetimepicker.js') }} " ></script> -->
	   
	   
	   
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />  
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/fileuploadstyles.css') }}"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/persona-buttons.css') }}"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/helmsmart-buttons.css') }}"/> 
	

	 
	   <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
	   
	   
	<style>
		.nav-tabs > li.active > a,
		.nav-tabs > li.active > a:hover,
		.nav-tabs > li.active > a:focus {
			color: #fff;
			background-color: #428bca; 
		}

		.tab-content {
			margin-top: 15px;
		}
	</style>

</head> 
<body>

<div>
  <center>
  {% if session['userid'] %}
     <a href="https://www.helmsmart-cloud.com" id="login" class="persona-button">
    <span>HelmSmart: {{session['username']}}</span></a>
  {% else %}
    <a href="https://www.helmsmart-cloud.com" id="login" class="persona-button">
      <span>HelmSmart: Guest</span></a>
  {% endif %}
  </center>
</div>

	<div class="container body-content">
		



<script type="text/javascript" src="{{ url_for('static', filename='js/support.js') }}" ></script>

<style>
	.form-group {
		margin-bottom: 5px;
	}

	.control-label {
		padding-right: 3px;
	}

	.timeAgo {
		color: gray;
	}

	.valueFormat {
		color: black;
	}

	#tabGeoFence .form-control-static,
	#tabGeoFence .control-label {
		padding-top: 0px;
		padding-bottom: 0px;
	}

	hr {
		margin-top: 2px;
		margin-bottom: 6px;
	}

	input[type=checkbox] {
		margin-left: 0px !important;
	}
</style>

<script>
	$(function () {
		$(document).ajaxComplete(function (event, xhr, settings) {
			if (xhr.getResponseHeader('ReloadWholePage')) {
				window.location.reload();	//Reload the whole datapane
			}
		});
		
		$('.nav-tabs a[href="#tabDimmers"]').tab('show');
		//RegisterDevice();
		//GetAlertEvents();
		/*
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabPrefs')
			alert("events tab");
			GetAlertEvents();
				
		});
		*/
	});
	/*
	//DoOnChange is used in the Edit template for EventValue
	function DoOnChange(t) {
		if (t.value == 0)
			$('#' + t.id).nextAll('span:first').hide()
		else
			$('#' + t.id).nextAll('span:first').show()
	}

	
	$(function () {
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabPrefs')
			alert("events tab");
			GetAlertEvents();
				
		});
	});
	
	
	$(document).ready(function () {
$('.nav nav-tabs').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
 })
 

    $('.tabs').bind('change', function (e) {
        // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello");
        // Load data etc
    });
	
$('.nav-tabs').bind('change', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello");
        // Load data etc
    });
 
 
}); 
  */
  
  	/*
	$(document).ready(function () {
$('#tab a').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
 })
}); 
  */
  
  
 
  
</script>


	
	



<!-- Nav tabs -->
<ul class="nav nav-tabs" id="tab" role="tablist">
	<li><a href="#tabMarketing" role="tab" data-toggle="tab">Info</a></li>
	<li><a href="#tabLive" role="tab" data-toggle="tab">Live</a></li>

		<li><a href="#tabDimmers" role="tab" data-toggle="tab">Devices</a></li>
		<li><a href="#tabPrefs" role="tab" data-toggle="tab">Prefs</a></li>
	<!--	<li><a href="#tabTriggers" role="tab" data-toggle="tab">Triggers</a></li> -->
	<!--	<li><a href="#tabGeoFence" role="tab" data-toggle="tab">GeoFence</a></li> -->

		<li><a href="#tabGeoFenceReport" role="tab" data-toggle="tab">Report</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">

	<!-- Tab pane -->
	<div class="tab-pane" id="tabMarketing">
			<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HelmSmart Alerts</title>
	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
	<link href="{{ url_for('static', filename='css/bootstrap-slider.min.css') }}" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="{{ url_for('static', filename='js/modernizr-2.6.2.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-slider.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.unobtrusive-ajax.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.unobtrusive.js') }}"></script>
	<style>
		.nav-tabs > li.active > a,
		.nav-tabs > li.active > a:hover,
		.nav-tabs > li.active > a:focus {
			color: #fff;
			background-color: #428bca;
		}

		.tab-content {
			margin-top: 15px;
		}
	</style>
<!--	
<script src="{{ url_for('static', filename='js/netDimmerGlobals.js') }}" type="text/javascript"></script>	 
-->
	  
<script type="text/javascript">
//***************************************************
//  Page Parameters Global Defaults
//***************************************************
var PageID = 5;
var CookiePrefix = "NDP0";
var PageLayout = 0;
var DialStart = 0;
var PageBackGroundColor = "#336699";
var PageForeGroundColor = "#55AACC";
var ClockLCDColor = 0;
var SystemClockPGNID = 6;
var UpdateInterval = 3000;
var DialTimeout = 4;
var xmlDescription = "SeaSmart Dimmers";
 
//***************************************************
// Dial Parameters Global Defaults
//***************************************************
 
var DialType = new Array(1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0);
var DialPGNInstance = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialPGNNumber = new Array("65286","65286","65286","65286","65286","65286","65286","65286","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined");
var DialPGNParameter = new Array(0,1,2,3,4,5,6,7,0,0,0,0,0,0,0,0);
var DialUnits = new Array(16,16,4,24,26,16,16,27,0,0,0,0,0,0,0,0);
var DialMin = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialMax = new Array(100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100);
var DialAlarm = new Array(200,3500,40,20,10,10,200,10,50,50,50,50,50,50,50,50);
var DialAlarmState = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialText = new Array("Master","Dimmer 1","Dimmer 2","Dimmer 3","Dimmer 4","Dimmer 5","Dimmer 6","Dimmer 7","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined","Undefined");
var DialFrameType = new Array(5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5);
var DialBackground = new Array(16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16);
var DialLCDColor = new Array(17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17);
var DialPointerColor = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialPonterType = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0); 

var ClockLCD;
var AmpsLCD;

var TimmersArray = new Array()


	//var DialPGNNumber = new Array();
	var myEventID = new Array();
	var myEventTag = new Array();
	var myEventUnits = new Array();
	var myEventMax = new Array();
	var myEventMin = new Array();
	var myEventAlarmMode  = new Array();
	var myEventAlarmModeType  = new Array();
	var myEventInterval = new Array();
	var myEventSource = new Array();
	var myEventName = new Array();
	
	var gLatitude=0.00;
	var gLongitude=0.00;
	
	var gAlertLatitude=0.00;
	var gAlertLongitude=0.00;
	
	var gAlertRadius = 1000;
	
	
	var gn2ktime = new Array();
    var glat  = new Array();
    var glng  = new Array();
    var gspeed  = new Array();
	var gdistance  = new Array();
	var fbdevice;
	
	var timezoneOffset = 0;
	
	var index = 0;
	var gUserID="000000000000";
	//var gDeviceID="527805749392";
	var gDeviceID="";
	var gDeviceKey="";
	//var gDeviceName="001EC0B415C2:SSENETG2_SeaDream";
	var gDeviceName="";
  var device;
  var firebase;
    var rootRef;;
	
	var pagetype=5;
	var gprefkey=0;
	var dimmer0;
	
//		var DialPGNInstance = new Array(0,0,0,0,0,0,0);

//	var DialPGNNumber = new Array("130946","130946","130946","130946","130946","130946");

//	var DialPGNParameter = new Array(0,1,2,3,4,5);

//	var DialUnits = new Array(26,26,26,26,26,26);

//	var SystemClockPGNID = 6;	
	
  var AlertID=0;
  var device;
  var map;
  //var myLatlng;
  //var myOldLatlng;
  var gmarker;
  var geoRadius;
  
  var markers = new Array();
  var poly;
 // var myinfoWindow = new google.maps.InfoWindow;
var upDateControl = 0;
var gDimmerValues = new Array(0,0,0,0,0,0);
var gDimmerLockout=1;
var gDimmerLockoutFlag = true;


    zpad.zeros = new Array(5).join('0');
    spad.spaces = new Array(7).join(' ');
	
	
	$(document).ready(function () {
	
	var myText;
	//document.getElementById("PGNTypeSource").length = 0;
	
	
		
	//document.getElementById("PGNTypeSource").options[index++] = new Option( "ANY", ".*");

		
	//document.getElementById("EventsID").length = 0;	
	//document.getElementById("EventsID").options[index] = new Option( "** Add New Event **", "0");
	
	//document.getElementById("ReportsID").length = 0;	
	//document.getElementById("ReportsID").options[index] = new Option( "** No Events **", "None");
		
		

	
	   //InitalizeFirebase();
	
    gUserID = "0";
    {% if session['userid'] %}
    gUserID = "{{session['userid']}}";
    {% else %}
    gUserID = "0";
    {% endif %}


    if (gUserID == null)
    {
    gUserID = "0";
    }
    else
    {
    getDeviceList(gUserID);
    //getDeviceParamList(myuserid);
    }
	
	
	document.getElementById("ReportsID").options[0].text = DialText[0];
	document.getElementById("ReportsID").options[1].text = DialText[1];
	document.getElementById("ReportsID").options[2].text = DialText[2];
	document.getElementById("ReportsID").options[3].text = DialText[3];
	document.getElementById("ReportsID").options[4].text = DialText[4];
	
	ClockLCD = new steelseries.DisplaySingle('canvasClock', {  width: 320,height: 40, valuesNumeric: false });
	AmpsLCD = new steelseries.DisplaySingle('canvasAmps', {  width: 320,height: 40, valuesNumeric: false });
 //document.getElementById("ClockPGNInstance").selectedIndex = SystemClockPGNID;
    setClockLcdColor(ClockLCDColor)
	
	
	setDimmerLayout(PageLayout);
	
	
	
	
				    // Initialize Firebase
	/*				
  var config = {
    apiKey: "AIzaSyC7lm1ubR9m9i7KRomA3l3NHBOf_wsOeGE",
    authDomain: "helmsmart-device-message.firebaseapp.com",
    databaseURL: "https://helmsmart-device-message.firebaseio.com",
    storageBucket: "helmsmart-device-message.appspot.com",
    messagingSenderId: "824876491410"
  };
  */
      var config = {
    apiKey: "AIzaSyD2HTSEWcIiUr9vn4YnG7_dQx2F19tMapQ",
    authDomain: "helmsmart-ios-pcdin.firebaseapp.com",
    databaseURL: "https://helmsmart-ios-pcdin.firebaseio.com",
    storageBucket: "helmsmart-ios-pcdin.appspot.com",
    messagingSenderId: "824876491410"
  };
  
  
  
  
  firebase.initializeApp(config);
  
  
/*
$('.nav-tabs').bind('change', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello change");
        // Load data etc
    });
*/	
	$('.nav-tabs').bind('click', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
	//	if (e.target.hash == '#tabPrefs')
			//GetAlertEvents();
			//alert("events tab");
		//	if (e.target.hash == '#tabGeoFence')
		//	setTimeout(initializeMaps, 10);	//Workaround for Bootstrap tabs and google maps center bug.
        //alert("hello click");
        // Load data etc
    });
 
/*
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabPrefs')
			alert("events tab");
			//GetAlertEvents();
				
		});
*/
	
	
}); 

function myonload()
{ 

/*

var i;
var j;
 var TimmerValueStr;
	
	for(i=0; i<24; i++)
	{
		for (j=0;j<7;j++)
		{
			TimmerValueStr = "TimmerValue_" + i + "_" + j*10;
			
			document.getElementById(TimmerValueStr).options.length = 0;
			
			index=0;
			
			for(k=0;k<101;k++)
			{
				document.getElementById(TimmerValueStr).options[index++] = new Option(k, padToHex2(k));
				
			}
			document.getElementById(TimmerValueStr).options[index++] = new Option("---", "FF");
			
			document.getElementById(TimmerValueStr).selectedIndex = 101;
	  }
  }
  


  
  for(k=0; k<4; k++)
  {
  
    var TimmerArray = new Array();
	  for(i=0; i<24; i++)
		{  
		var HoursArray = new Array();
		
			for (j=0;j<6;j++)
			{
				HoursArray.push(101)
			}
			TimmerArray.push(HoursArray)
			
		}
	  
	  TimmersArray.push(TimmerArray);
  }
  
  
  */
  
 }

    /* ******************  padding functions ************************************************ */

    function zpad(num, len) {
    var str = String(num),
    diff = len - str.length;
    if(diff <= 0) return str;
    if(diff > zpad.zeros.length)
        zpad.zeros = new Array(diff + 1).join('0');
    return zpad.zeros.substr(0, diff) + str;
}

function spad(num, len) {
    var str = String(num),
        diff = len - str.length;
    if(diff <= 0) return str;
      if(diff > spad.spaces.length)
      spad.spaces= new Array(diff + 1).join(' ');
      return spad.spaces.substr(0, diff) + str;
      }
	  
function pad(number, length) {

        var str = '' + number;
        while (str.length < length) {
            str = '0' + str;
        }

        return str;

    }	  
function isReallyNaN(a) { return a !== a; };	  
Date.isLeapYear = function (year) { 
    return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)); 
};

Date.getDaysInMonth = function (year, month) {
    return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
};

Date.prototype.isLeapYear = function () { 
    return Date.isLeapYear(this.getFullYear()); 
};

Date.prototype.getDaysInMonth = function () { 
    return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
};

Date.prototype.addMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() + value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};	  
	  
Date.prototype.subMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() - value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};	


Date.prototype.yyyymmdd = function() {         
                                
        var yyyy = this.getFullYear().toString();                                    
        var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based         
        var dd  = this.getDate().toString();             
                            
        return yyyy + '-' + (mm[1]?mm:"0"+mm[0]) + '-' + (dd[1]?dd:"0"+dd[0]);
   };
   
 Date.prototype.yyyymmddhhmm = function() {         
                                
        var yyyy = this.getFullYear().toString();                                    
        var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based         
        var dd  = this.getDate().toString();    
        var hh  = this.getHours().toString(); 
        var Min  = this.getMinutes().toString(); 		
                            
        return yyyy + '-' + (mm[1]?mm:"0"+mm[0]) + '-' + (dd[1]?dd:"0"+dd[0]) + ' ' + hh + ':' + Min;
   };
   
   Date.prototype.yyyymmddhhmmss = function() {         
                                
        var yyyy = this.getFullYear().toString();
        var MM = pad(this.getMonth() + 1,2);
        var dd = pad(this.getDate(), 2);
        var hh = pad(this.getHours(), 2);
        var mm = pad(this.getMinutes(), 2)
        var ss = pad(this.getSeconds(), 2)

        return yyyy + '-' + MM + '-' + dd + ' ' +  hh + ':' + mm + ':' + ss;
   };   
	   
function rgbToHex(r,g,b) {
    return "#"+("00000"+(r<<16|g<<8|b).toString(16)).slice(-6);
}

function padToHex(value) {
    return ("00000"+(value).toString(16)).slice(-6);
}

function padToHex2(value) {
    return ("0"+(value).toString(16)).slice(-2);
}
	  
function ConvertValueUnits(value, type)  
 {



      }

function InitalizeFirebase()
{
	//var AccountDataFolder = "001EC0B415C2"
	var AccountDataFolder = gDeviceID;
	
   // var table = document.getElementById("AlertData");

   // var rowCount = table.rows.length;

   // for(x=rowCount-1; x>0; x--)
  //  table.deleteRow(x);



    if(rootRef != null)
    rootRef.off();

    //FireBaseURL = "https://seasmart.firebaseio.com/events/" + AccountDataFolder + "/Alert/";
//	FireBaseURL = "https://seasmart.firebaseio.com/events/" + gDeviceKey + "/Insert/";
	   //    FireBaseURL = "https://helmsmart-device-message.firebaseio.com/events/"  + gDeviceKey + "/Insert/"; 	   
		   
		      //FireBaseURL = "events/"  + gDeviceKey + "/Insert/"; 	 

			  FireBaseURL = "DEVICE/"  + gDeviceKey;
			  
		    // Initialize Firebase
			/*
  var config = {
    apiKey: "AIzaSyC7lm1ubR9m9i7KRomA3l3NHBOf_wsOeGE",
    authDomain: "helmsmart-device-message.firebaseapp.com",
    databaseURL: "https://helmsmart-device-message.firebaseio.com",
    storageBucket: "helmsmart-device-message.appspot.com",
    messagingSenderId: "824876491410"
  };
  
  firebase.initializeApp(config);
  */
  
//The equivalent to the old new Firebase(URL) is firebase.database().ref(URL);
		   
    // alert(FireBaseURL);
    //device = new Firebase(FireBaseURL);
	
	rootRef = firebase.database().ref(FireBaseURL);
	
	
    rootRef.on('value', function(snapshot) {
    ShowFirebaseData(snapshot.val());
    });


}

function ShowFirebaseData(mydata)
{


  try{
  // var myvalues = mydata.pushsmart;
   var myvalues = mydata.JSON;
    if(myvalues != null)
    {



		UpdateAlertValues( myvalues)
          
  
   }
   }
   catch(err)
   {}
   
   
   
   
 }

function UpdateAlertValues(mydata)
{

var CanvasIndex=0;
var N2KValues = new Array();
var DialIndex;
var PGN126992Values = new Array();
var amps;
var ampsvalue;
var dimmerInstance;

	var dimmervalue;

	// Check if a timeout occurred
	if(!mydata)
	{

	}
	
// Get System Time
      N2KValues = GetPGN126992(mydata, SystemClockPGNID );

       if(N2KValues.length > 0)
            ClockLCD.setValue(N2KValues.pop());  // Time  
/*
			// Get Amps vale from PGN128508 = Battery Status which is Index 15
			//N2KValues =  GetPGNbyNumber(mydata, DialPGNInstance[15], DialPGNNumber[15], DialPGNParameter[15], DialUnits[15] );
			N2KValues =  GetPGNbyNumber(mydata, DialPGNInstance[0], "127508", 0x01, 0x00 );		
	       if(N2KValues.length > 0)
		   {
				//amps = N2KValues.pop().toFixed(1);
				amps = N2KValues.pop();
				AmpsLCD.setValue(amps);  // Time  
			}
			*/
	
	for(DialIndex=0; DialIndex < 5; DialIndex++) //
     {   
            // N2KValues =  GetPGNbyNumber(mydata, DialPGNInstance[DialIndex], DialPGNNumber[DialIndex], DialPGNParameter[DialIndex], DialUnits[DialIndex] );
				  dimmervalue = ""
				  N2KValues =  GetPGNbyNumber(mydata, DialPGNInstance[DialIndex], DialPGNNumber[DialIndex], DialPGNParameter[DialIndex], DialUnits[DialIndex] );
				  dimmervalue = N2KValues.pop();
				  //if(typeof(dimmervalue) != 'undefined' && dimmervalue != null && dimmervalue != "")
				  if (!isNaN(dimmervalue))
				  {
						gDimmerValues[DialIndex] = dimmervalue;
				  }
				 // try{ 
				  //
				//	gDimmerValues[DialIndex]  = parseInt(dimmervalue);
				 // 
				 // }catch(err){}
				  
				  
              }
	
	if(gDimmerLockout == 0)
	{
		dimmer0.slider('enable');
		dimmer1.slider('enable');
		dimmer2.slider('enable');
		dimmer3.slider('enable');
		//dimmer4.slider('enable');
		document.getElementById("LEDcolor").disabled = false;
		/*
		document.getElementById('dimmer0value').disabled = false;
		document.getElementById('dimmer1value').disabled = false;
		document.getElementById('dimmer2value').disabled = false;
		document.getElementById('dimmer3value').disabled = false;
		document.getElementById('dimmer4value').disabled = false;
		*/
		if(typeof(gDimmerValues[0]) != 'undefined' && gDimmerValues[0] != null)
		{
			dimmer0.slider('setValue', Math.floor(gDimmerValues[0]), true);
			document.getElementById('dimmer0value').value = Math.floor(gDimmerValues[0]);
			document.querySelector('#dimmer0value').innerHTML = Math.floor(gDimmerValues[0]);	
		}
		
		if(typeof(gDimmerValues[1]) != 'undefined' && gDimmerValues[1] != null)
		{		
			dimmer1.slider('setValue', Math.floor(gDimmerValues[1]), true);
			document.getElementById('dimmer1value').value = Math.floor(gDimmerValues[1]);
			document.querySelector('#dimmer1value').innerHTML = Math.floor(gDimmerValues[1]);
		}
		
		if(typeof(gDimmerValues[2]) != 'undefined' && gDimmerValues[2] != null)
		{		
			dimmer2.slider('setValue', Math.floor(gDimmerValues[2]), true);
			document.getElementById('dimmer2value').value = Math.floor(gDimmerValues[2]);
			document.querySelector('#dimmer2value').innerHTML = Math.floor(gDimmerValues[2]);
		}
		
		if(typeof(gDimmerValues[3]) != 'undefined' && gDimmerValues[3] != null)
		{		
			dimmer3.slider('setValue', Math.floor(gDimmerValues[3]), true);
			document.getElementById('dimmer3value').value = Math.floor(gDimmerValues[3]);
			document.querySelector('#dimmer3value').innerHTML = Math.floor(gDimmerValues[3]);
		}
		
	//	if(typeof(gDimmerValues[4]) != 'undefined' && gDimmerValues[4] != null)
	//	{		
	//		dimmer4.slider('setValue', Math.floor(gDimmerValues[4]), true);
	//		document.getElementById('dimmer4value').value = Math.floor(gDimmerValues[4]);
	//		document.querySelector('#dimmer4value').innerHTML = Math.floor(gDimmerValues[4]);
	//	}
		dimmerInstance = document.getElementById("PGNInstance").value;
		
		if(dimmerInstance >= 128)
		{
		
				ampsvalue = gDimmerValues[4] * 0.10
				AmpsLCD.setValue(ampsvalue.toFixed(2));  // Time
		}							
									
	
		if(dimmerInstance >= 128 && dimmerInstance < 192)
		{
			document.getElementById("DimmerFlash").selectedIndex = gDimmerValues[4] & 0x0F;	
			document.getElementById("DimmerDuty").selectedIndex = gDimmerValues[4] >> 4;	

		}


		
		setDimmerColorPicker(true);
	 }  

	// decrement lockout count so we we don't toggle
	gDimmerLockout--;
	if(gDimmerLockout < 0)
	{
		gDimmerLockout = 0;
		gDimmerLockoutFlag = false;
	}
	
	
		
}
function SetPGNInstance(sel)
{
 var myInstance;
 var mylength = DialPGNInstance.length;
 
 
 myInstance = sel.value;
 //gSwitchInstance = myInstance;
 

 for(i=0; i<mylength; i++)
 {
 
	DialPGNInstance[i] = myInstance;
 
 }
 
  //if((myInstance & 0x80) == 0x80)
  if(myInstance >= 0x80 && myInstance < 0xC0)
  {
		PageLayout = 1;
 		setDimmerLayout(1);
	}
	else
	{
		PageLayout = 0;
		setDimmerLayout(0);
	}
	
 
}

function SetDimmerType(sel)
{

//var type = sel.selectedIndex;

//PageLayout = type;

//setDimmerLayout(PageLayout);

}



function setDimmerFlash(sel)
{
		var flash = sel.selectedIndex;
		//if(gDimmerValues[4] != 255)
		{
			gDimmerValues[4] = (gDimmerValues[4] & 0xF0) | (flash & 0x0F);
			//outputDimmerValues(3);
			outputDimmerValues(4);
		}
}


function setDimmerDuty(sel)
{
		var duty = sel.selectedIndex;
		//if(gDimmerValues[4] != 255)
		{
			gDimmerValues[4] = (gDimmerValues[4] & 0x0F) | ((duty << 4) & 0xF0);
			//outputDimmerValues(3);
			outputDimmerValues(4);
		}
}



function setDimmerLayout(layout)
{
	if(layout == 1)
	{
	
		document.getElementById("Dimmer0-row").style.display = 'none';
		document.getElementById("Dimmer1-row").style.display = 'none';
		document.getElementById("Dimmer2-row").style.display = 'none';
		document.getElementById("Dimmer3-row").style.display = 'none';
		//document.getElementById("Dimmer4-row").style.display = 'none';
		document.getElementById("LedColor-row").style.display = 'block';
		document.getElementById("clock-row").style.display = 'block';
	    document.getElementById("amps-row").style.display = 'block';
	
		//$("LedColor-row").show();
		//$("Dimmer0-row").hide();
		//$("Dimmer1-row").hide();
		//$("Dimmer2-row").hide();
		//$("Dimmer4-row").hide();
	}
	else
	{
		document.getElementById("Dimmer0-row").style.display = 'block';
		document.getElementById("Dimmer1-row").style.display = 'block';
		document.getElementById("Dimmer2-row").style.display = 'block';
		document.getElementById("Dimmer3-row").style.display = 'block';
		//document.getElementById("Dimmer4-row").style.display = 'none';
		document.getElementById("LedColor-row").style.display = 'none';
		document.getElementById("clock-row").style.display = 'block';
		document.getElementById("amps-row").style.display = 'block';
		
		//gDimmerValues[4]= 255;
		
				
		//dimmer4.slider('setValue', 255, true);
	
		//document.getElementById('dimmer4value').value = 255;
		//document.querySelector('#dimmer4value').innerHTML = 255;
		
	}




}

function ChangedDeviceTypeID(sel)
{
gDeviceKey = document.getElementById("DeviceTypeID").options[sel.selectedIndex].value;
					document.getElementById("DeviceKey").value = gDeviceKey;
					
					
					//	GetAlertEvents();		
					
					getDeviceParamList(gUserID);
					//gDeviceKey
					
}
function convert(integer) {
    var str = Number(integer).toString(16);
    return str.length == 1 ? "0" + str : str;
};


function outputDimmerValues(index)
{

	gDimmerLockout = 2;
	/*
	document.getElementById('dimmer0value').disabled = true;
	document.getElementById('dimmer1value').disabled = true;
	document.getElementById('dimmer2value').disabled = true;
	document.getElementById('dimmer3value').disabled = true;
	document.getElementById('dimmer4value').disabled = true;
	*/
	if(index == 0)
		dimmer0.slider('disable');
	else if(index == 1)
		dimmer1.slider('disable');
	else if(index == 2)
		dimmer2.slider('disable');
	else if(index == 3)
		dimmer3.slider('disable');
	else if(index == 4)
		document.getElementById("LEDcolor").disabled = true;	
	//dimmer4.slider('disable');


	//DimmerPGN = "$PCDIN,01FF82,00000000,00,99E1000000000000*24";
	DimmerInstance = DialPGNInstance[index];

	var DimmerPGN = "$PCDIN,01FF82,00000000,00,99E1" + convert(DimmerInstance);
	DimmerPGN = DimmerPGN + convert(Math.floor(gDimmerValues[0]));
	DimmerPGN = DimmerPGN + convert(Math.floor(gDimmerValues[1]));
	DimmerPGN = DimmerPGN + convert(Math.floor(gDimmerValues[2]));
	DimmerPGN = DimmerPGN + convert(Math.floor(gDimmerValues[3]));
	DimmerPGN = DimmerPGN + convert(Math.floor(gDimmerValues[4]));
	DimmerPGN = DimmerPGN + "*24";
		
	if( gDimmerLockoutFlag == false)			
		SetHelmSmartDimmer(index, DimmerInstance, gDimmerValues[index]);

}

function outputUpdate0(value) {
	document.querySelector('#dimmer0value').innerHTML = value;
	gDimmerValues[0] = Math.floor((value));
	setDimmerColorPicker(false);
	outputDimmerValues(0);
	
}
function outputUpdate1(value) {
	document.querySelector('#dimmer1value').innerHTML = value;
	gDimmerValues[1] = Math.floor((value));
	setDimmerColorPicker(false);
	outputDimmerValues(1);
	
}
function outputUpdate2(value) {
	document.querySelector('#dimmer2value').innerHTML = value;
	gDimmerValues[2] = Math.floor((value));
	setDimmerColorPicker(false);
	outputDimmerValues(2);
	
}
function outputUpdate3(value) {
	document.querySelector('#dimmer3value').innerHTML = value;
	gDimmerValues[3] = Math.floor((value));
	//setDimmerColorPicker();
	outputDimmerValues(3);
	
}
function outputUpdate4(value) {
	//document.querySelector('#dimmer4value').innerHTML = value;
	//gDimmerValues[4] = Math.floor((value));
	//setDimmerColorPicker();
	//outputDimmerValues(4);
	
}

function setDimmerColorPicker(backgroundflag)
{

       /*
		//if(typeof(gDimmerValues[0]) != 'undefined' && gDimmerValues[0] != null)
		{	
		//var REDcolor = gDimmerValues[0] * 2.55;
		var REDcolor = gDimmerValues[0] ;
		//REDcolor = REDcolor * 0.390625;  // 100/256
		REDcolor = Math.round((REDcolor));
		}
		
		//if(typeof(gDimmerValues[1]) != 'undefined' && gDimmerValues[1] != null)
		{	
		//var GREENcolor = gDimmerValues[1] * 2.55;
		var GREENcolor = gDimmerValues[1] ;
		//GREENcolor = GREENcolor * 0.390625;  // 100/256
		GREENcolor = Math.round((GREENcolor));
		}
		
		//if(typeof(gDimmerValues[2]) != 'undefined' && gDimmerValues[2] != null)
		{	
		//var BLUEcolor = gDimmerValues[2] * 2.55;		
		var BLUEcolor = gDimmerValues[2] ;
		//BLUEcolor = BLUEcolor * 0.390625;  // 100/256
		BLUEcolor = Math.round((BLUEcolor));
		}
		
		if(PageLayout == 1)
			var RGBcolor = ((REDcolor / 32) << 5) + ((GREENcolor / 32) << 2) + (BLUEcolor / 64);		
		else
			var RGBcolor = 255;
			
		gDimmerValues[4]= Math.floor(RGBcolor);
		
		*/
		
		var ColorPickerValue = gDimmerValues[3]
		
		
							var REDcolor = (ColorPickerValue >> 5) & 0x07;

					REDcolor = Math.round(  REDcolor * 36.42857);  // 255/7	

		
					var GREENcolor = (ColorPickerValue >> 2) & 0x07;
					GREENcolor = Math.round( GREENcolor * 36.42857);   // 255/7	
		
					var BLUEcolor = (ColorPickerValue & 0x000003);
					BLUEcolor = Math.round( BLUEcolor * 85);  // 255/3
		
					var DimmerBackGroundColor = (REDcolor << 16) + (GREENcolor << 8) + (BLUEcolor);
					var rgbstring = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
					var DimmerBackGroundColorHEX = padToHex(DimmerBackGroundColor);
					//document.getElementById("LEDcolor").style.backgroundColor  = rgbstring;
					document.getElementById("LEDcolor").value = DimmerBackGroundColorHEX;
	

		
					var yiq = ((REDcolor*299)+(GREENcolor*587)+(BLUEcolor*114))/1000;
					  
					 if(yiq > 128)
						document.getElementById("LEDcolor").style.color = "#000000";	
					else
						document.getElementById("LEDcolor").style.color = "#FFFFFF"; 
		
		
		

	//	var DimmerBackGroundColor = (REDcolor << 16) + (GREENcolor << 8) + (BLUEcolor);
//
		//document.getElementById("LEDcolor").style.backgroundColor  = '#' + DimmerBackGroundColor.toString(16);
	//	var rgbstring = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
	//	var DimmerBackGroundColorHEX = padToHex(DimmerBackGroundColor);
		
	//	document.getElementById("LEDcolor").value = padToHex(DimmerBackGroundColor);
		PageForeGroundColor = '#' + DimmerBackGroundColorHEX;		
		
		if(backgroundflag == true)
			document.getElementById("LEDcolor").style.backgroundColor  = rgbstring;

}		
		
function setDimmerControls(color)
{
       var dimmercolor = parseInt(color, 16);
		
		var REDcolor = (dimmercolor & 0xFF0000) >> 16;
		//REDcolor = REDcolor * 0.390625;  // 100/256	
		REDcolor = Math.round(  REDcolor * 0.996);  // 255/256	

		
		var GREENcolor = (dimmercolor & 0x00FF00) >> 8;
		GREENcolor = Math.round( GREENcolor * 0.996);  // 255/256		
		
		var BLUEcolor = (dimmercolor & 0x0000FF);
		BLUEcolor = Math.round( BLUEcolor * 0.996);  // 255/256	
		

		
		if(PageLayout == 1)
			var RGBcolor = ((REDcolor / 32) << 5) + ((GREENcolor / 32) << 2) + (BLUEcolor / 64);		
		else
			var RGBcolor = 255;
			
		
	


		
		
		gDimmerValues[0]= Math.floor(REDcolor);
		dimmervalue =  Math.floor(REDcolor);
				
		dimmer0.slider('setValue', Math.floor(REDcolor), true);
	
		document.getElementById('dimmer0value').value = dimmervalue;
		document.querySelector('#dimmer0value').innerHTML = dimmervalue;
		//outputUpdate0(slideEvt.value);
		
		
		gDimmerValues[1]= Math.floor(GREENcolor);
		dimmervalue =  Math.floor(GREENcolor);
				
		dimmer1.slider('setValue', Math.floor(GREENcolor), true);
	
		document.getElementById('dimmer1value').value = dimmervalue;
		document.querySelector('#dimmer1value').innerHTML = dimmervalue;

		gDimmerValues[2]= Math.floor(BLUEcolor);
		dimmervalue =  Math.floor(BLUEcolor);
				
		dimmer2.slider('setValue', Math.floor(BLUEcolor), true);
	
		document.getElementById('dimmer2value').value = dimmervalue;
		document.querySelector('#dimmer2value').innerHTML = dimmervalue;		
		
		
		gDimmerValues[3]= Math.floor(RGBcolor);
		dimmervalue =  Math.floor(RGBcolor);
				
		dimmer3.slider('setValue', Math.floor(RGBcolor), true);
	
		document.getElementById('dimmer3value').value = dimmervalue;
		document.querySelector('#dimmer3value').innerHTML = dimmervalue;	
		
		gDimmerValues[4]= (document.getElementById("DimmerDuty").selectedIndex << 4) | (document.getElementById("DimmerFlash").selectedIndex & 0x0F);

		//gDimmerValues[4]= Math.floor(RGBcolor);
		//dimmervalue =  Math.floor(RGBcolor);
				
		//dimmer4.slider('setValue', Math.floor(RGBcolor), true);
	
		//document.getElementById('dimmer4value').value = dimmervalue;
		//document.querySelector('#dimmer4value').innerHTML = dimmervalue;	
		
		
		
		var DimmerBackGroundColor = (REDcolor << 16) + (GREENcolor << 8) + (BLUEcolor);
		var DimmerBackGroundColorHEX = padToHex(DimmerBackGroundColor);
		//document.getElementById("LEDcolor").style.backgroundColor  = '#' + DimmerBackGroundColor.toString(16);
		var rgbstring = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
		//document.getElementById("LEDcolor").style.backgroundColor  = rgbToHex(REDcolor,GREENcolor,BLUEcolor );
		//document.getElementById("LEDcolor").value = DimmerBackGroundColor.toString(16);
		document.getElementById("LEDcolor").value = DimmerBackGroundColorHEX;
		PageForeGroundColor = '#' + DimmerBackGroundColorHEX;
		//$("#LEDcolor").change();
		
}
		
function updateDimmerColor(color, changeflag)
{

//[(Red / 32) << 5] + [(Green / 32) << 2] + (Blue / 64)

		setDimmerControls(color);
		
		
		upDateControl = 1;
		outputDimmerValues(0);
		outputDimmerValues(1);
		outputDimmerValues(2);
		outputDimmerValues(3);
		//outputDimmerValues(4);
}

function ChangedEmail()
{
	//gEMail = document.getElementById("EmailAddress").value;
}

function ChangedSMSNumber()
{
	//gSMSNumber = document.getElementById("SMSNumber").value;
}

function ChangedDeviceKey()
{
	gDeviceKey = document.getElementById("DeviceKey").value;

}


function ChangedTimeZone(sel)
{
  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[sel.selectedIndex].value) * 60;

}

function changedDimmer0()
{

	DialText[0] = document.getElementById("Dimmer0Name").value;
	document.getElementById("ReportsID").options[0].text = DialText[0];
	document.getElementById("Dimmer0Label").innerHTML = DialText[0];

	
}

function changedDimmer1()
{

	DialText[1] = document.getElementById("Dimmer1Name").value;
	document.getElementById("ReportsID").options[1].text = DialText[1];
	document.getElementById("Dimmer1Label").innerHTML = DialText[1];

	
}

function changedDimmer2()
{

	DialText[2] = document.getElementById("Dimmer2Name").value;
	document.getElementById("ReportsID").options[2].text = DialText[2];
	document.getElementById("Dimmer2Label").innerHTML = DialText[2];

	
}

function changedDimmer3()
{

	DialText[3] = document.getElementById("Dimmer3Name").value;
	document.getElementById("ReportsID").options[3].text = DialText[3];
	document.getElementById("Dimmer3Label").innerHTML = DialText[3];

	
}

function changedDimmer4()
{

	DialText[4] = document.getElementById("Dimmer4Name").value;
	document.getElementById("ReportsID").options[4].text = DialText[4];
	document.getElementById("Dimmer4Label").innerHTML = DialText[4];
	
}


function SetClockPGNInstance(sel)
{


	// Clock display is Dial ID = 8
	SystemClockPGNID = sel.options[sel.selectedIndex].value;

	
}

function selectClockLcdColor(sel) {
	  

		// clock display is dial=8
	 ClockLCDColor = sel.selectedIndex;


		setClockLcdColor(parseInt(sel.selectedIndex))
}

function setClockLcdColor(ClockLCDColor) {


	
        switch (parseInt(ClockLCDColor)) {
         case 0:
           ClockLCD.setLcdColor(steelseries.LcdColor.BEIGE);
		   AmpsLCD.setLcdColor(steelseries.LcdColor.BEIGE);
            break;
        case 1:

            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLUE);
            break;
        case 2:
            ClockLCD.setLcdColor(steelseries.LcdColor.ORANGE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.ORANGE);
            break;
        case 3:
            ClockLCD.setLcdColor(steelseries.LcdColor.RED);
			AmpsLCD.setLcdColor(steelseries.LcdColor.RED);
            break;
        case 4:
           ClockLCD.setLcdColor(steelseries.LcdColor.YELLOW);
		   AmpsLCD.setLcdColor(steelseries.LcdColor.YELLOW);
            break;
        case 5:
            ClockLCD.setLcdColor(steelseries.LcdColor.WHITE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.WHITE);
            break;
        case 6:
            ClockLCD.setLcdColor(steelseries.LcdColor.GRAY);
			AmpsLCD.setLcdColor(steelseries.LcdColor.GRAY);
            break;
        case 7:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLACK);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLACK);
            break;
        case 8:
            ClockLCD.setLcdColor(steelseries.LcdColor.GREEN);
			AmpsLCD.setLcdColor(steelseries.LcdColor.GREEN);
            break;
        case 9:
           ClockLCD.setLcdColor(steelseries.LcdColor.BLUE2);
		   AmpsLCD.setLcdColor(steelseries.LcdColor.BLUE2);
            break;
        case 10:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_BLACK);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLUE_BLACK);
            break;
        case 11:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_DARKBLUE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLUE_DARKBLUE);
            break;
        case 12:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_GRAY);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLUE_GRAY);
            break;
        case 13:
           ClockLCD.setLcdColor(steelseries.LcdColor.STANDARD);
		   AmpsLCD.setLcdColor(steelseries.LcdColor.STANDARD);
            break;
        case 14:
           ClockLCD.setLcdColor(steelseries.LcdColor.STANDARD_GREEN);
		   AmpsLCD.setLcdColor(steelseries.LcdColor.STANDARD_GREEN);
            break;
        case 15:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_BLUE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLUE_BLUE);
            break;
        case 16:
            ClockLCD.setLcdColor(steelseries.LcdColor.RED_DARKRED);
			AmpsLCD.setLcdColor(steelseries.LcdColor.RED_DARKRED);
            break;
        case 17:
            ClockLCD.setLcdColor(steelseries.LcdColor.DARKBLUE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.DARKBLUE);
            break;
        case 18:
            ClockLCD.setLcdColor(steelseries.LcdColor.LILA);
			AmpsLCD.setLcdColor(steelseries.LcdColor.LILA);
            break;
        case 19:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLACKRED);
			AmpsLCD.setLcdColor(steelseries.LcdColor.BLACKRED);
            break;
        case 20:
            ClockLCD.setLcdColor(steelseries.LcdColor.DARKGREEN);
			AmpsLCD.setLcdColor(steelseries.LcdColor.DARKGREEN);
            break;
        case 21:
           ClockLCD.setLcdColor(steelseries.LcdColor.DARKGREEN);
		   AmpsLCD.setLcdColor(steelseries.LcdColor.DARKGREEN);
            break;
        case 22:
            ClockLCD.setLcdColor(steelseries.LcdColor.AMBER);
			AmpsLCD.setLcdColor(steelseries.LcdColor.AMBER);
            break;
        case 23:
            ClockLCD.setLcdColor(steelseries.LcdColor.LIGHTBLUE);
			AmpsLCD.setLcdColor(steelseries.LcdColor.LIGHTBLUE);
            break;
        }
}


function ChangedEventTriggerType(sel)
{



}
function ChangedEventTrigger(sel)
{



}



function ChangedEventInterval(sel)
{

}

function ChangedPGNSource(sel)
{
	
}
function ChangedPGNTypeID(sel)
{

}


function ChangedGeoReportRange(sel)
{

}

function ChangedGeoReportRollup(sel)
{




}

function ChangedGeoReportInterval(sel)
{

}


function ChangedReportsID(sel)
{

}
function selectTimmerID(sel)
{
var value;
var id;

id =  sel.selectedIndex;

	for(i=0; i<24; i++)
	{
		for (j=0;j<6;j++)
		{
			TimmerValueStr = "TimmerValue_" + i + "_" + j*10;
			
			value = TimmersArray[id][i][j]
			document.getElementById(TimmerValueStr).selectedIndex = value;
			

		}
			TimmerValueStr = "TimmerValue_" + i + "_60" ;
			document.getElementById(TimmerValueStr).selectedIndex = 101;
	  
  }

}



function selectTimmerValue(sel)
{
var value;
var id;

var TimmerID = document.getElementById("TimmerID").selectedIndex;


id =  sel.id;
var ids = id.split("_");

var timmerHour = ids[1];
var timmerMin = ids[2];


value = sel.selectedIndex;

TimmersArray[TimmerID][timmerHour][timmerMin/10] = value;


}

function selectTimmerValueHour(sel)
{
var value;
var id;
var i;

var TimmerValueStr;
var TimmerID = document.getElementById("TimmerID").selectedIndex;

id =  sel.id;
var ids = id.split("_");

var timmerHour = ids[1];
var timmerMin = ids[2];


	value = sel.selectedIndex;

	for(i=0;i<6; i++)
	{
		TimmersArray[TimmerID][timmerHour][i] = value;

		TimmerValueStr = "TimmerValue_" + timmerHour + "_" + i*10;
				
		document.getElementById(TimmerValueStr).selectedIndex = value;
	}




}


function ChangedReportRollup(sel)
{




}

function ChangedReportInterval(sel)
{

}


function updateEventList(sel)
{

		
}


function SetEventsOptions(myindex){


	
	
}




function handleGetAlertIDs(response)
 {

 
}

function handleGetReport(response)
{
 var index=0;
 var myValue;
  var myValueMin;
   var myValueMax;
    var myValueMean;
	
	
   	$.unblockUI();
   	
       var table = document.getElementById("ReportData");
 
       var rowCount = table.rows.length;
	   
	 //  for(i=0; i<rowCount-1; i++)
	//		table.deleteRow(i);
			
	while(table.rows.length > 1) {
	

		table.deleteRow(1);
	}
			
			
	var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	var myUnits = myEventUnits[myEventIndex];
	var myMin = myEventMin[myEventIndex];
	var myMax = myEventMax[myEventIndex];
	//var myAlarmMode = myEventAlarmMode[myEventIndex];
	var myAlarmMode ="disabled";
			
   index = 0;
   	 response.results.forEach(function(mydata){
	 
	 var row = table.insertRow(1);
	 
				var utcTime = new Date(mydata.epoch*1000);
			
			if(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value == "-0")
			{
				//ldate = 
				//utcTime = utcTime + new Date().getTimezoneOffset();
				//var mydate = new Date(utcTime * 1000);
				var mydate = utcTime;
				
			  row.style.color = "#053B72";
              var cell0 = row.insertCell(0);
          //   cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			    cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
			}
			else
			{
				utcTime = utcTime + timezoneOffset;
				//var mydate = new Date(utcTime * 1000);
				var mydate = utcTime;

              var cell0 = row.insertCell(0);
				cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			   // cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
			}
			
			  var cell1 = row.insertCell(1);
              cell1.innerHTML = mydata.source;
			  cell1.style.textAlign = 'left';
				
	
              var cell2 = row.insertCell(2);
			  myValueMean = mydata.mean
			 
              cell2.innerHTML = spad(parseFloat(myValueMean).toFixed(4),10);
			  cell2.style.textAlign = 'left';
			  
			  var cell3 = row.insertCell(3);
			  myValueMin = mydata.min
			  
              cell3.innerHTML = spad(parseFloat(myValueMin).toFixed(4),10);
			  cell3.style.textAlign = 'left';
			  
			  var cell4 = row.insertCell(4);
			  myValueMax = mydata.max
			  
              cell4.innerHTML = spad(parseFloat(myValueMax).toFixed(4),10);
			  cell4.style.textAlign = 'left';
			  
			  var cell5 = row.insertCell(5);
			  myValue = mydata.derivative
			  if( myValue == null || isNaN(myValue))
				cell5.innerHTML = "---";
			  else
				cell5.innerHTML = spad(parseFloat(myValue).toFixed(4),10);
			  
			  cell5.style.textAlign = 'left';
			  
			  var cell6 = row.insertCell(6);
              cell6.innerHTML = mydata.count;
			  cell6.style.textAlign = 'left';
			  
			  var cell7 = row.insertCell(7);
              //cell6.innerHTML = mydata.count;
			  cell7.style.textAlign = 'left';
			  row.style.color = "#053B72";
			  
			  if(myAlarmMode == "disabled")
			  {
					cell7.innerHTML = "Disabled";
			  }
			  else if(myAlarmMode == "alarm" || myAlarmMode == "alarmemail" || myAlarmMode == "alarmsms")
			  {
			  
					cell7.innerHTML = "Alarm Inactive";
					row.style.color = "#053B72";
					
					if(myMin != 'off')
					{
						if(myValueMin < myMin)
						{
						 cell7.innerHTML = "Alarm Active";
						 row.style.color = "#C70C45"; 
						 }
					}
					
					if(myMax != 'off')
					{
						if(myValueMax > myMax)
						{
						 cell7.innerHTML = "Alarm Active";
						 row.style.color = "#C70C45"; 
						 }
					}
					
			  }
			  else if (parseInt(mydata.count) == 0)
			  {
				cell7.innerHTML = "Missing";
				row.style.color = "#C70C45"; 
				}
	
			  		  /*
			  	<option value="disabled">Disabled</option>
					<option value="status">Status</option>
					<option value="warning">Warning</option>
					<option value="alarm">Alarm</option>
					<option value="error">Error</option>           
					<option value="missing">Missing</option>
			  */
			  
			  
			  
			  
			  
	
		  	});
}



function handleGetGeoReport(response)
{
 
	
}

function handleGetSeriesAttributes(response)
 {

              

 
}
            

function handleRegisterDevice(response)
{


} 



function handleGetDeviceData(response)
{
  var index=0;

  $.unblockUI();

  document.getElementById("DeviceTypeID").options.length = 0;

  response.records.forEach(function(row){
 
     // myDeviceIDs[index]=row[0];
      document.getElementById("DeviceTypeID").options[index++] = new Option(row[0] + ":" + row[1], row[0]);

  });


  document.getElementById("DeviceTypeID").selectedIndex = 0;
  gDeviceKey = document.getElementById("DeviceTypeID").options[0].value;
					document.getElementById("DeviceKey").value = gDeviceKey;
					
	// if(gDeviceKey !== "")
	//	InitalizeFirebase();
		
		//GetAlertEvents();				
		getDeviceParamList(gDeviceKey);			
					
   /*   
  for(i=0; i< document.getElementById("DeviceTypeID").options.length; i++)
	    		{
	    			myDeviceID = document.getElementById("DeviceTypeID").options[i].value;
					document.getElementById("DeviceKey").value = myDeviceID;
		    		//if(myDeviceID == AccountDataFolder)
		    		//	document.getElementById("DeviceID").selectedIndex = i;
		    	}
 */         
 //  if(index == 0)
 //    document.getElementById("SearchStatus").innerHTML = "Get Devices Error";
  //   else
  //    document.getElementById("SearchStatus").innerHTML = "Device List update succcessful "; 
    

    // Search DB for list of series that match deviceID
   //  GetSeriesAttributes(document.getElementById("DeviceID").options[document.getElementById("DeviceID").selectedIndex].value); 
    
    // Search DB for list of Alerts that match DeviceID
  	//		 getAlertIDsList(myuserid);
    
    
}
function InitalizePrefs()
{

		document.getElementById("Dimmer0Label").innerHTML = DialText[0];
		document.getElementById("Dimmer1Label").innerHTML = DialText[1];
		document.getElementById("Dimmer2Label").innerHTML = DialText[2];
		document.getElementById("Dimmer3Label").innerHTML = DialText[3];
		document.getElementById("Dimmer4Label").innerHTML = DialText[4];

		document.getElementById("Dimmer0Name").value = DialText[0];
		document.getElementById("Dimmer1Name").value = DialText[1];
		document.getElementById("Dimmer2Name").value = DialText[2];
		document.getElementById("Dimmer3Name").value = DialText[3];
		document.getElementById("Dimmer4Name").value = DialText[4];
		
		document.getElementById("ReportsID").options[0].text = DialText[0];
		document.getElementById("ReportsID").options[1].text = DialText[1];
		document.getElementById("ReportsID").options[2].text = DialText[2];
		document.getElementById("ReportsID").options[3].text = DialText[3];
		document.getElementById("ReportsID").options[4].text = DialText[4];
		
		//setDimmerLayout(PageLayout);
		//document.getElementById("DimmerType").selectedIndex = PageLayout;
		
		if((DialPGNInstance[0] & 0x80) == 0x80)
		{
			PageLayout = 1;
			setDimmerLayout(1);
		}
		else
		{
			PageLayout = 0;
			setDimmerLayout(0);
		}
		
		
		var dimmervalues = PageForeGroundColor.replace("#", "") ;
		
		setDimmerControls(dimmervalues);
		
		document.getElementById("clock-row").style.display = 'block';
	    document.getElementById("amps-row").style.display = 'block';
		
		document.getElementById("ClockPGNInstance").selectedIndex = SystemClockPGNID;
		document.getElementById("ClockLcdColor").selectedIndex = ClockLCDColor;
		setClockLcdColor(ClockLCDColor);
		
		
			gDimmerLockout=1;
		gDimmerLockoutFlag = true;
		
		 if(gDeviceKey !== "")
			InitalizeFirebase();
		
		// if(gDeviceKey !== "")
		//InitalizeFirebase();
}

function UpdateLogAlert()
{
	if(gprefkey == 0)
	{
		AddNewPref();
	}
	else
	{
		ModifyPref();
	}
}

function handleGetDevicePramNames(response)
 {
 var index=0;
 
   	$.unblockUI();
	
   	   // initialize the user parameter list to zero         
	document.getElementById("XMLFilesSelect").options.length = 0;
	document.getElementById("XMLFilesSelect").options[index++] = new Option("Use Defaults", "0");
  document.getElementById("XMLFilesSelect").selectedIndex = 0;	
  		
	if(response.status != "error")
	{
		// get list of user parameters from the DB
   	    response.records.forEach(function(row){
   	      document.getElementById("XMLFilesSelect").options[index] = new Option(row[2],  row[0] );
				gprefkey = row[0];
				document.getElementById("XMLFilesSelect").selectedIndex = index++;
	   		});
	}
	
	if(index == 0)
	{
	 document.getElementById("XMLFilesSelect").selectedIndex = 0;
	 gprefkey = 0;
	 }
	 

   //	 if(gDeviceKey !== "")
	//	InitalizeFirebase();
		
    // load up user pameters from DB if there were any returned
    if(index > 0)        
	 	  getDeviceParamDetails(gUserID);
    else
    {
		InitalizePrefs();
    }
 
}



  // Drop down menue is auto filled from DB with user preferences
 function selectUserPref(sel)
 {
  // ConfigOptions = parseInt(sel.selectedIndex);
   // save new CongigOptions to Cookie file
  //  SetServerType( 1);

  // go to DB and load new prefs
   getDeviceParamDetails(gUserID);

 }





function handleGetDevicePramDetails(response)
 {
 var index=0;
 
   	$.unblockUI();
   	
	if(response.status == "error")
		return;

   	response.records.forEach(function(row){
   	
   		  // console.log(row);
   		   
  				PageLayout   = row[5];
				if(PageLayout > 1)
				PageLayout = 0;
				
				//DialStart  =  parseInt(row[6]);
				//PageBackGroundColor  = "#" + row[7];
				PageForeGroundColor  =  "#" + row[8];
				ClockLCDColor   = row[9];
				SystemClockPGNID   = row[10];
				//UpdateInterval   = row[11];
				//DialTimeout   = row[12];
				
			    var myDialSettingsSubStrings = new Array();
		//alert('got a cookies');
		// parse the cookie string
		
		//myDialSettingsSubStrings= row[13].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialType[index]   =  parseInt(myDialSettingsSubStrings[index]);
				
		myDialSettingsSubStrings= row[14].split(",");
		for ( index=0; index< myDialSettingsSubStrings.length; index++ )
				DialPGNInstance[index]   =  parseInt(myDialSettingsSubStrings[index]);
				
		document.getElementById("PGNInstance").selectedIndex = DialPGNInstance[0];
				
		//myDialSettingsSubStrings= row[15].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPGNNumber[index]   = myDialSettingsSubStrings[index].replace(/\"/g, "");

		//myDialSettingsSubStrings= row[16].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPGNParameter[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[17].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialUnits[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[18].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialMin[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[19].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialMax[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[20].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialAlarm[index]   =  parseInt(myDialSettingsSubStrings[index]);

		myDialSettingsSubStrings= row[21].split(",");
		for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		{
				DialAlarmState[index]   =  parseInt(myDialSettingsSubStrings[index]);
				
		}
		gDimmerValues[0] = DialAlarmState[0];
		gDimmerValues[1] = DialAlarmState[1];
		gDimmerValues[2] = DialAlarmState[2];
		gDimmerValues[3] = DialAlarmState[3];	
		gDimmerValues[4] = DialAlarmState[4];	
				
		myDialSettingsSubStrings= row[22].split(",");
		for ( index=0; index< myDialSettingsSubStrings.length; index++ )
				DialText[index]   = myDialSettingsSubStrings[index].replace(/\"/g, "");


		//myDialSettingsSubStrings= row[23].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialFrameType[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[24].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialBackground[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[25].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialLCDColor[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[26].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPointerColor[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[27].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPonterType[index]   =  parseInt(myDialSettingsSubStrings[index]);


   		   
	   		});
	   		
	   		 ParameterInit = true;

 			InitalizePrefs();

 
}	
	
	
function handleAddNewPref(response)
 {
 var index=0;
       //document.getElementById("AddPreferenceName").value = "";
   	$.unblockUI();

}

function handleModifyPref(response)
 {
 var index=0;
 
   	$.unblockUI();

}


function handleDeletePref(response)
 {
 var index=0;
 
 	//nextConfigOption = document.getElementById("XMLFilesSelect").options.length -2;

 
 
   	$.unblockUI();
   	
   	//InitalizePageDials();
   	
	//ConfigOptions = 0;
	//getDeviceParamList(myuserid);

}	

function getDeviceParamList(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
   devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=pageprefnames&userid=" + gUserID + "&pagetype=5";
    
    
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleGetDevicePramNames(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                         // document.getElementById("SearchStatus").innerHTML = "Search Error";
		               		$.unblockUI();   
		            	} 
		 		  });


}	 
 function getDeviceParamDetails(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	var optionmenuindex=0;
	var prefkey;

   //optionmenuindex = document.getElementById("XMLFilesSelect").selectedIndex;
   //prefkey = parseInt(document.getElementById("XMLFilesSelect").options[optionmenuindex].value);
   
 
   devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=pageprefs&userid=" + gUserID + "&pagetype=5&prefkey=" + gprefkey;
         
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleGetDevicePramDetails(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                          document.getElementById("SearchStatus").innerHTML = "Search Error";
		                           ParameterInit = true;

		               		$.unblockUI();   
		            	} 
		 		  });


}	 


	
function AddNewPref()
{
 // Guests do not get to make changes
 if(gUserID == 0)
 return;
 
 
        $.blockUI({ 
     message: '<h1>Adding Preferences...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	var optionmenuindex;
	var nextConfigOption=0;
	     
    var optionmenuindex=0;
 	var nextConfigOption;
	
	nextConfigOption = document.getElementById("XMLFilesSelect").options.length -1;
    //var prefName = "SeaSmart Switch Prefs";
	var prefName = document.getElementById("AddPreferenceName").value;

	DialText[0] = document.getElementById("Dimmer0Name").value;
	DialText[1] = document.getElementById("Dimmer1Name").value;
	DialText[2] = document.getElementById("Dimmer2Name").value;
	DialText[3] = document.getElementById("Dimmer3Name").value;
	DialText[4] = document.getElementById("Dimmer4Name").value;
	
	DialAlarmState[0] = gDimmerValues[0];
	DialAlarmState[1] = gDimmerValues[1];
	DialAlarmState[2] = gDimmerValues[2];
	DialAlarmState[3] = gDimmerValues[3];
	DialAlarmState[4] = gDimmerValues[4];
 
  devicedataurl = "https://www.helmsmart-cloud.com/prefs?type=add&userid=" + gUserID + "&pagetype=5&prefkey=" +  nextConfigOption + "&options="

  devicedataurl =  devicedataurl  + "'" + prefName + "'";
  devicedataurl =  devicedataurl + "," + PageLayout;
  devicedataurl =  devicedataurl + "," + DialStart ;
  devicedataurl =  devicedataurl + ",'" + PageBackGroundColor.replace("#", "") + "'";
  devicedataurl =  devicedataurl + ",'" + PageForeGroundColor.replace("#", "") + "'";
  devicedataurl =  devicedataurl + "," + ClockLCDColor ;
  devicedataurl =  devicedataurl + "," + SystemClockPGNID ;
  devicedataurl =  devicedataurl + "," + UpdateInterval ;
  devicedataurl =  devicedataurl + "," + DialTimeout ;
  devicedataurl =  devicedataurl + ",'" + DialType + "'";
  devicedataurl =  devicedataurl + ",'" + DialPGNInstance + "'";
  devicedataurl =  devicedataurl + ",'" + DialPGNNumber + "'";
  devicedataurl =  devicedataurl + ",'" + DialPGNParameter + "'";
  devicedataurl =  devicedataurl + ",'" + DialUnits + "'";
  devicedataurl =  devicedataurl + ",'" + DialMin + "'";
  devicedataurl =  devicedataurl + ",'" + DialMax + "'";
  devicedataurl =  devicedataurl + ",'" + DialAlarm + "'";
  devicedataurl =  devicedataurl + ",'" + DialAlarmState + "'";
  devicedataurl =  devicedataurl + ",'" + DialText + "'";
  devicedataurl =  devicedataurl + ",'" + DialFrameType + "'";
  devicedataurl =  devicedataurl + ",'" + DialBackground + "'";
  devicedataurl =  devicedataurl + ",'" + DialLCDColor + "'";
  devicedataurl =  devicedataurl + ",'" + DialPointerColor + "'";
  devicedataurl =  devicedataurl + ",'" + DialPonterType + "'";
  devicedataurl =  devicedataurl + ",0,0,0,0";
    
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleAddNewPref(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                      //    document.getElementById("SearchStatus").innerHTML = "Pref Update Error";
		                          
		               		$.unblockUI();   
		            	} 
		 		  });





}

function ModifyPref()
{
 // Guests do not get to make changes
 if(gUserID == 0)
 return;
        $.blockUI({ 
     message: '<h1>Updateing Preferences...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });

      var devicedataurl;
      var optionmenuindex=0;
     // var prefkey;
      var prefName = "SeaSmart Switch Prefs";

	DialText[0] = document.getElementById("Dimmer0Name").value;
	DialText[1] = document.getElementById("Dimmer1Name").value;
	DialText[2] = document.getElementById("Dimmer2Name").value;
	DialText[3] = document.getElementById("Dimmer3Name").value;
	DialText[4] = document.getElementById("Dimmer4Name").value;
	
	DialAlarmState[0] = gDimmerValues[0];
	DialAlarmState[1] = gDimmerValues[1];
	DialAlarmState[2] = gDimmerValues[2];
	DialAlarmState[3] = gDimmerValues[3];
	DialAlarmState[4] = gDimmerValues[4];
	
      optionmenuindex = document.getElementById("XMLFilesSelect").selectedIndex;
      prefkey = parseInt(document.getElementById("XMLFilesSelect").options[optionmenuindex].value);
      prefName = document.getElementById("XMLFilesSelect").options[optionmenuindex].text;
	

      devicedataurl = "https://www.helmsmart-cloud.com/prefs?type=update&userid=" + gUserID + "&prefkey=" +  prefkey + "&options="

      devicedataurl =  devicedataurl  + optionmenuindex;
      devicedataurl =  devicedataurl + ",'" + prefName + "'";
      devicedataurl =  devicedataurl + "," + PageLayout;
      devicedataurl =  devicedataurl + "," + DialStart ;
      devicedataurl =  devicedataurl + ",'" + PageBackGroundColor.replace("#", "") + "'";
      devicedataurl =  devicedataurl + ",'" + PageForeGroundColor.replace("#", "") + "'";
      devicedataurl =  devicedataurl + "," + ClockLCDColor ;
      devicedataurl =  devicedataurl + "," + SystemClockPGNID ;
      devicedataurl =  devicedataurl + "," + UpdateInterval ;
      devicedataurl =  devicedataurl + "," + DialTimeout ;
      devicedataurl =  devicedataurl + ",'" + DialType + "'";
      devicedataurl =  devicedataurl + ",'" + DialPGNInstance + "'";
      devicedataurl =  devicedataurl + ",'" + DialPGNNumber + "'";
      devicedataurl =  devicedataurl + ",'" + DialPGNParameter + "'";
      devicedataurl =  devicedataurl + ",'" + DialUnits + "'";
      devicedataurl =  devicedataurl + ",'" + DialMin + "'";
      devicedataurl =  devicedataurl + ",'" + DialMax + "'";
      devicedataurl =  devicedataurl + ",'" + DialAlarm + "'";
      devicedataurl =  devicedataurl + ",'" + DialAlarmState + "'";
      devicedataurl =  devicedataurl + ",'" + DialText + "'";
      devicedataurl =  devicedataurl + ",'" + DialFrameType + "'";
      devicedataurl =  devicedataurl + ",'" + DialBackground + "'";
      devicedataurl =  devicedataurl + ",'" + DialLCDColor + "'";
      devicedataurl =  devicedataurl + ",'" + DialPointerColor + "'";
      devicedataurl =  devicedataurl + ",'" + DialPonterType + "'";
      devicedataurl =  devicedataurl + ",0,0,0,0";

      return $.ajax({
      //async: false,
      cache: false,
      url: devicedataurl,
      dataType: "json",
      timeout: 10000,
      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleModifyPref(response)
      },
      complete: function() {
      // unblock when remote call returns
      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
      //   ShowGraphSmartChart(gindex);
      //$.unblockUI();
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Update Error";

      $.unblockUI();
      }
      });


}

function DeletePref()
{
      // Guests do not get to make changes
      if(gUserID == 0)
      return;
      $.blockUI({
      message: '<h1>Adding Preferences...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	//var optionmenuindex;
	//var prefkey;

  // optionmenuindex = document.getElementById("XMLFilesSelect").selectedIndex;
  // prefkey = parseInt(document.getElementById("XMLFilesSelect").options[optionmenuindex].value);

   devicedataurl = "https://www.helmsmart-cloud.com/prefs?type=delete&userid=" + gUserID + "&prefkey=" +  gprefkey ;

   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleDeletePref(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                      //    document.getElementById("SearchStatus").innerHTML = "Pref Delete Error";
		                          
		               		$.unblockUI();   
		            	} 
		 		  });


}	 
  
 function GetAlertEvents()
 {
 // https://www.helmsmart-cloud.com/getuser?gettype=AlertIDs&userid=a91140300971bfb9244989a9bffde53c&deviceid=a91140300971bfb9244989a9bffde53c&_=1427391221558
 
 /*
	if(gDeviceID == "")
	{
		alert('No Device ID entered');
		return;
	}
 */
 
 
     $.blockUI({
    message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
	//var  myDeviceKey = document.getElementById("DeviceKey").value;
	var  myDeviceKey = gDeviceKey;
	
  // devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=AlertIDs&userid=" + userid + "&deviceid=" + AccountDataFolder;
  // devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=AlertIDs&userid=" + userid + "&deviceid=" + userid;
 // devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=AlertIDs&userid=a91140300971bfb9244989a9bffde53c&deviceid=a91140300971bfb9244989a9bffde53c";
  //devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=AlertIDs&userid=" + gUserID + "&deviceid=" + myDeviceKey;
  devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=AlertIDs&userid=" + gUserID + "&deviceid=" + gUserID;
	
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleGetAlertIDs(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                       //   document.getElementById("SearchStatus").innerHTML = "Search Error";
		               		$.unblockUI();   
		            	} 
		 		  });
 
 
 
 }
 
 
 function GetSeriesAttributes(userid)
{

      


 }
  
 function RegisterDevice()
{

    


} 
function handleSetHelmSmartDimmer(response)
 {
 var index=0;
      // document.getElementById("AddPreferenceName").value = "";
   	$.unblockUI();

}
function SetHelmSmartDimmer(dimmerid, dimmerInstance,  dimmervalue)
{

        $.blockUI({ 
     message: '<h1>Setting Dimmer...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;

   //devicedataurl = "https://www.helmsmart-cloud.com/sendswitchpgn?gettype=devices&switch=" + switchPGN;
   //devicedataurl = "https://www.helmsmart-cloud.com/sendswitchpgn?deviceid=001EC0B415BF&switch=" + switchPGN;
   devicedataurl = "https://www.helmsmart-cloud.com/setdimmerapi?deviceid=" + gDeviceKey;
   
   				devicedataurl = devicedataurl + "&instance=" + dimmerInstance ;
				devicedataurl = devicedataurl + "&dimmerid=" + dimmerid ;
				devicedataurl = devicedataurl + "&dimmervalue=" + dimmervalue ; 
				
				

   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleSetHelmSmartDimmer(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                 
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                          document.getElementById("SearchStatus").innerHTML = "Search Error";
		               		$.unblockUI();   
		            	} 
		 		  });


}	 

 function GetReport()
{

   
	 var myEventIndex = document.getElementById("ReportsID").selectedIndex;

	  var myEventType = document.getElementById("ReportsID").options[myEventIndex].value
	 
	 



     $.blockUI({ 
     message: '<h1>Getting Report...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("ReportRollup").options[document.getElementById("ReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(1);
	}
	else if(myRollup == "2m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(2);
	}
	else if(myRollup == "3m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(3);
	}
	else if(myRollup == "4m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(4);
	}
	else if(myRollup == "5m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(5);
	}
	else if(myRollup == "6m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(6);
	}
	else
	{
		var EndEpoch = new Date();
	
		var StartEpoch  = EndEpoch - (myRollup*60*1000);
	}
	
	EndEpoch = Math.floor(EndEpoch/1000);
	StartEpoch  = Math.floor(StartEpoch/1000);
	

	
	

	
	var myInterval = parseInt(document.getElementById("ReportInterval").options[document.getElementById("ReportInterval").selectedIndex].value) * 60;
	// EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
	//    StartEpoch = StartEpoch - (mytimeZoneOffset  * 60 );
  //StartEpoch = StartEpoch - 1262304000;
  
    //EndEpoch = EndEpoch - (mytimeZoneOffset  * 60 );
  //EndEpoch = EndEpoch -  1262304000;	


	
	var mySeriesKey =  makePGNfromEvent(myEventType, "*");


	  
	  
	  
	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

      var publictoken = "{{publictoken}}";
      myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

      myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "https://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


   //   devicedataurl = "https://www.helmsmart-cloud.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;

    //  devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=cace5b1ef7f39af021e9428cef3a6f54&serieskey=sensor:environmental_data.source:0F.instance:0.type:Outside Temperature.parameter:temperature.HelmSmart&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";
 
  //   devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";

    devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbydeviceid_idc?deviceid=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch + "&resolution=" + myInterval + "&format=json";

 // devicedataurl =  devicedataurl  + "&blwskey=" + document.getElementById("BLWSKeyInput").value ;
   // devicedataurl =  devicedataurl  + "&datapaneid=" + myuserKey ;


      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 10000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleGetReport(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


} 


  
function GetGeoReport()
{

    // var myEventType = document.getElementById("ReportsID").options[document.getElementById("ReportsID").selectedIndex].value
	// var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	// var myEventType = myEventTag[myEventIndex];
	 
	 
	 
	// if(myEventType == "None")
	// {
	//	 alert('No Event selected');
	//	 return;
	 
	// }


     $.blockUI({ 
     message: '<h1>Getting Geo Report...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  //"2015-03-27 00:00"
	  var myStartTime = document.getElementById("GeoReportStart").value;
	  
	  var parts = myStartTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
	  //return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  myStartEpoch = myStartEpoch.getTime();
	  
	 var EndEpoch = new Date();
	var StartEpoch = new Date();
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("GeoReportRollup").options[document.getElementById("GeoReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		StartEpoch  = StartEpoch.subMonths(1);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(1);
		}
		
		
	}
	else if(myRollup == "2m")
	{		
		StartEpoch  = StartEpoch.subMonths(2);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(2);
		}
		
	}
	else if(myRollup == "3m")
	{
		StartEpoch  = StartEpoch.subMonths(3);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(3);
		}

	}
	else if(myRollup == "4m")
	{
		StartEpoch  = StartEpoch.subMonths(4);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(4);
		}
	}
	else if(myRollup == "5m")
	{
		StartEpoch  = StartEpoch.subMonths(5);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(5);
		}

	}
	else if(myRollup == "6m")
	{
		StartEpoch  = StartEpoch.subMonths(6);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(6);
		}

	}
	else
	{
		//var EndEpoch = new Date();
	
	   // StartEpoch  = EndEpoch - (myRollup*60*1000);
		StartEpoch.setSeconds(StartEpoch.getSeconds() - (myRollup*60));
		
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch.setSeconds(EndEpoch.getSeconds() + (myRollup*60));
		}
	}
	
	var now = new Date();
	if(EndEpoch > now)
		EndEpoch = now;
	
	EndEpoch = Math.floor(EndEpoch.getTime()/1000);
	StartEpoch  = Math.floor(StartEpoch.getTime()/1000);
	
	
	
	

	
	var myInterval = parseInt(document.getElementById("GeoReportInterval").options[document.getElementById("GeoReportInterval").selectedIndex].value) * 60;
	// EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
	//    StartEpoch = StartEpoch - (mytimeZoneOffset  * 60 );
  //StartEpoch = StartEpoch - 1262304000;
  
    //EndEpoch = EndEpoch - (mytimeZoneOffset  * 60 );
  //EndEpoch = EndEpoch -  1262304000;	


	


//	var mySeriesKey =  makePGNfromEvent(myEventType, "*");
	  
	  
	  
//	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

    //  var publictoken = "{{publictoken}}";
    //  myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

    //  myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "https://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


   //   devicedataurl = "https://www.helmsmart-cloud.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;

    //  devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=cace5b1ef7f39af021e9428cef3a6f54&serieskey=sensor:environmental_data.source:0F.instance:0.type:Outside Temperature.parameter:temperature.HelmSmart&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";
 
  //   devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";

  //  devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbydeviceid?deviceid=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch + "&resolution=" + myInterval + "&format=json";

	GPSSource = "0F";
	
    devicedataurl = "https://www.helmsmart-cloud.com/getgpsseriesbydeviceid?";
    devicedataurl =  devicedataurl + "deviceid=" + myDeviceKey + "&startepoch=" + StartEpoch  + "&endepoch=" + EndEpoch +  "&resolution=" + myInterval;
    devicedataurl =  devicedataurl + "&serieskey1=" + "deviceid:" + myDeviceKey +".sensor:position_rapid.source:" + GPSSource + ".instance:0.type:NULL.parameter:latlng.HelmSmart"; ;
 
	devicedataurl =  devicedataurl + "&format=json"  ;
	//devicedataurl =  devicedataurl + "&max=" + document.getElementById("GPSLimit").options[document.getElementById("GPSLimit").selectedIndex].value; 
	devicedataurl =  devicedataurl + "&max=1000000" ; 

      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 10000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleGetGeoReport(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


}   
  
  
  
  
  
  
  
function getDeviceList(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
    devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=devices&userid=" + userid;

    return $.ajax({
    //async: false,
    cache: false,
    url: devicedataurl,
    dataType: "json",
    timeout: 10000,
    statusCode: {
    404: function() {      alert( "page not found" );    },
    200: function() {      }
    },
    success: function(response) {
    handleGetDeviceData(response)
    },
    complete: function() {
    // unblock when remote call returns
    // document.getElementById("SearchStatus").innerHTML = "Search Complete";
    //   ShowGraphSmartChart(gindex);
    //$.unblockUI();
    },
    error: function(request,status,errorThrown) {
    //document.getElementById("SearchStatus").innerHTML = "Search Error";
    $.unblockUI();
    }
    });


}
  
</script>

</head>
  <body onload="myonload();"  >
	<div class="container body-content">
		
<p id="introText">With this data pane you can configure, control and monitor your netGauges Switch device.</p>
<div id="idMarketing">
	<img src="static/img/SSWIFIPRO200W.jpg" style="float: right; margin: 5px;" onclick="window.open('https://www.seasmart.net/marine-wireless-networking-wifipro.html', '_blank');" />

<p>Remote control of up to twelve separate AC/DC circuits is now possible using any Web Browser device over existing internet services. Each SPST Relay is rated at 15 amps @ 120AC/24VDC. Can provide on-off control of both AC and DC loads.</p>
	<p>The <span class="SeaSmart">netGauges Switch</span> is however much more than a On/Off controller. The standard functions include:</p>
	<ul>
		<li>Can be controlled using local WiFi network only</li>
		<li>Built-in Web Server with embedded user interface eliminates any set-up</li>
		<li>Uses you existing internet service</li>
		<li>Can also be controlled remotely from any location with internet access</li>
		<li>Automatically logs each switch setting with timestamp</li>
		<li>Cloud-base storage and reporting of switch status</li>
		<li>No additional data plan charges</li>
		<li>Optional source input Voltage monitor</li>
		<li>Optional GPS input for Geo Location</li>
<li>Weather-resist enclosure for outdoor use</li>
		
	</ul>
	<p>Built-in data logger to SD memory</p>
	<ul>
		<li>Records everything when switcher is out of range</li>
		<li>Up to a full year of storage</li>
		<li>Automatically syncs to Cloud storage site when internet service is found</li>
		<li>Cloud base storage and access from the HelmSmart data server</li>
		</ul>
	<p>Add more netGauges sensors</p>
	<ul>		
		<li>Install additional temperature sensors to monitor room temperature.</li>
<li>Optional Power Monitoring inputs for real-time and historical cost tracking</li>
		<li>Optional GPS input for asset tracking and mobile platforms</li>
	</ul>
	<p>All switches are constantly monitored and automatically uploaded to Cloud Service sites for 24/7 access to status, control, and reporting. View graphs for historical use and get alarms via email or SMS when thresholds are reached</p>
	<p>Download the data sheet to learn more or order your <span class="SeaSmartPro">netGauges Switch</span> directly here. Worldwide shipping is included in the <em>895 USD</em> price.</p>
	<div style="margin: 15px;">
		<button id='downloadDatasheet' type="button" class="btn btn-primary" onclick="window.open('https://www.seasmart.net/pdf/SSWiFiPro.pdf', '_blank');">Datasheet</button>
<!--	<button id='orderNow' type="button" class="btn btn-primary" style="margin-left: 30px;" onclick="location.href=window.location.protocol + '//' + window.location.host + '/Order';return false;">Order Now</button>-->
		<button id='orderNow' type="button" class="btn btn-primary" style="margin-left: 30px;" onclick="window.open('https://www.seasmart.net/marine-wireless-networking-wifipro.html', '_blank');">Order Now</button>

	</div>
	<p>
	If you already have a netGauges Switch go to the Devices Link above and select your registered unit to activate remote control.
	</p>

</div>
</div>

</body>

</html>


	
</div>



<!-- Tab pane -->
<div class="tab-pane" id="tabLive">
		
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }

.form-inline .form-group{
    margin-left: 0;
    margin-right: 0;
}

</style>		

<table style="margin-top:15px; margin-left:10px; height:420px" cellspacing="10" cellpadding="5">


<tr id="amps-row">
<td style="width: 100px;">Amps</td>
<td style="width: 280px; height: 80px" > <center> <canvas id="canvasAmps"  width="275" height="80"></canvas> </center></td>
<td style="width: 50px;">&nbsp;</td>
</tr>




<tr id="LedColor-row">
<td  style="width: 100px;"> <label  id=Dimmer4Label for=LEDcolor>LED RGB Color</label> </td>
<td  style="width: 250px; height: 50px"> 
<!--
<input class="color" id="LEDcolor" onchange="updateDimmerColor(this.color.toString())" value="009687"  style="width: 380px; height: 30px"></td>
-->
<input type="text" id="LEDcolor" value="000000" name="LED-color" class="pick-a-color form-control" style="width: 250px; "></td>
<td td style="width: 60px; height: 60px" ><output for=LEDcolor id=LEDcolorvalue></output> </td>
</tr>



<tr id="Dimmer0-row">
<td style="width: 100px;"> <label class="control-label col-sm-2" id=Dimmer0Label for=dimmer0>Dimmer 0</label> </td>
<td style="width: 280px; height: 50px"> <input  id="dimmer0" class="form-control" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"   style="width: 250px; height: 30px"></td>
<td><output for=dimmer0 id=dimmer0value>0</output> </td>
</tr>



<tr id="Dimmer1-row">
<td style="width: 100px;"> <label class="control-label col-sm-2" id=Dimmer1Label for=dimmer1>Dimmer 1</label> </td>
<td style="width: 280px; height: 50px"> <input  id="dimmer1" class="form-control" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"   style="width: 250px; height: 30px"></td>
<td><output for=dimmer1 id=dimmer1value>0</output> </td>
</tr>



<tr id="Dimmer2-row">
<td style="width: 100px;"> <label class="control-label col-sm-2" id=Dimmer2Label for=dimmer2>Dimmer 2</label> </td>
<td style="width: 280px; height: 50px"> <input  id="dimmer2" class="form-control" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"   style="width: 250px; height: 30px"></td>
<td><output for=dimmer2 id=dimmer2value>0</output> </td>
</tr>



<tr id="Dimmer3-row">
<td style="width: 100px;"> <label class="control-label col-sm-2" id=Dimmer3Label for=dimmer3>Dimmer 3</label> </td>
<td style="width: 280px; height: 50px"> <input  id="dimmer3" class="form-control" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"   style="width: 250px; height: 30px"></td>
<td><output for=dimmer3 id=dimmer3value>0</output> </td>
</tr>

<!-- 

<tr id="Dimmer4-row">
<td style="width: 100px;"> <label class="control-label col-sm-2" id=Dimmer4Label for=dimmer4>Dimmer 4</label> </td>
<td style="width: 280px; height: 50px"> <input  id="dimmer4" class="form-control" type="text" data-slider-min="0" data-slider-max="100" data-slider-step="1" data-slider-value="50"   style="width: 250px; height: 30px"></td>
<td><output for=dimmer4 id=dimmer4value>0</output> </td>
</tr>

-->



<tr id="clock-row">
<td style="width: 100px;">Time</td>
<td style="width: 280px; height: 80px" > <center> <canvas id="canvasClock"  width="275" height="80"></canvas> </center></td>
<td style="width: 50px;">&nbsp;</td>
</tr>
</table>

 

	<script type="text/javascript" src="{{ url_for('static', filename='js/pick-a-color-1.1.8.min.js') }}" type="text/javascript"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/tinycolor-0.9.15.min.js') }}" type="text/javascript"></script>
		<script type="text/javascript">
	
		$(document).ready(function () {

			$(".pick-a-color").pickAColor({
			  showSpectrum            : true,
				showSavedColors         : true,
				saveColorsPerElement    : true,
				fadeMenuToggle          : true,
				showAdvanced						: true,
				showBasicColors         : true,
				showHexInput            : true,
				allowBlank							: true,
				inlineDropdown					: true
			});
			
		});
	
		</script>
		
		
			<script>
		dimmer0 = $("#dimmer0").slider();
		//$(function () {$("#dimmer0").slider();});
		$("#dimmer0").on("slideStop", function(slideEvt) {
		$("#dimmer0value").text(slideEvt.value);
			gDimmerValues[0] = Math.floor((slideEvt.value));
			outputDimmerValues(0);
		});
		
		//$(function () {$("#dimmer1").slider();});
		dimmer1 = $("#dimmer1").slider();
		$("#dimmer1").on("slideStop", function(slideEvt) {
			$("#dimmer1value").text(slideEvt.value);
			gDimmerValues[1] = Math.floor((slideEvt.value));
			outputDimmerValues(1);
		});
		
		
		//$(function () {$("#dimmer2").slider();});
		dimmer2 = $("#dimmer2").slider();
		$("#dimmer2").on("slideStop", function(slideEvt) {
			$("#dimmer2value").text(slideEvt.value);
			gDimmerValues[2] = Math.floor((slideEvt.value));
			outputDimmerValues(2);
		});
		
		//$(function () {$("#dimmer3").slider();});
		dimmer3 = $("#dimmer3").slider();
		$("#dimmer3").on("slideStop", function(slideEvt) {
			$("#dimmer3value").text(slideEvt.value);
			gDimmerValues[3] = Math.floor((slideEvt.value));
			outputDimmerValues(3);
		});
		
		//$(function () {$("#dimmer4").slider();});
	//	dimmer4 = $("#dimmer4").slider();
	//	$("#dimmer4").on("slideStop", function(slideEvt) {
	//		$("#dimmer4value").text(slideEvt.value);
	//		gDimmerValues[4] = Math.floor((slideEvt.value));
	//		outputDimmerValues(4);
	//	});
		
				$("#LEDcolor").on("change", function () {
    //console.log($(this).val());
	updateDimmerColor($(this).val(), true)
	});

		</script>
		
</div>

<div class='tab-pane' id="tabDimmers">
			
<form action="/TrackerDatapane/SettingsBasic" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabDimmers" id="form0" method="post">	

<div class="form-horizontal">
		
					<div class="form-group">	
				<label class="control-label col-sm-2" for="AddPreferenceName">Preference Name</label> 
				<div class="col-sm-6"> 
				<input type="text" class="form-control" id="AddPreferenceName"  />
				</div>
				</div>
				
				<div class="form-group">
				<label class="control-label col-sm-2" for="XMLFilesSelect">Preferences</label>
				<div class="col-sm-6">
				<select class="form-control"  id="XMLFilesSelect" onchange="selectUserPref(this);" >
				<option value="0">Use defaults</option>
				</select>
				</div>
				</div>

		<div class="form-group">
			<label class="control-label col-sm-2" for="DeviceTypeID">Device Type</label>
			<div class="col-sm-4">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="DeviceTypeID" name="DeviceTypeID"   onchange="ChangedDeviceTypeID(this);"  >
				<option value="000000000000">0000000000000:Demo</option>

			</select>
				<span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-2" for="DeviceKey">Device Key</label>
			<div class="col-sm-4">
				<input class="form-control text-box single-line" data-val="true" data-val-length="The Device Key must be a string with a length of 32 ." data-val-length-max="15" data-val-length-min="32" data-val-required="The Device Key field is required." id="DeviceKey" name="DeviceKey" placeholder="Key is 32 characters" type="text" value="" onchange="ChangedDeviceKey();" readonly />
				<span class="field-validation-valid text-danger" data-valmsg-for="DeviceKey" data-valmsg-replace="true"></span>
			</div>
		</div>
		
		<div class="form-group">
			<label class="control-label col-sm-2" for="TimeZoneId">Time zone</label>
			<div class="col-sm-6">
				
					<select class="form-control" id="TimeZoneId" name="TimeZoneId" style="" onchange="ChangedTimeZone(this);"><option value="-720">(UTC-12:00) International Date Line West</option>
					<option value="-660">(UTC-11:00) Coordinated Universal Time-11</option>
					<option value="-600">(UTC-10:00) Hawaii</option>
					<option value="-540">(UTC-09:00) Alaska</option>
					<option value="-480">(UTC-08:00) Baja California</option>
					<option value="-480">(UTC-08:00) Pacific Time (US &amp; Canada)</option>
					<option value="-420">(UTC-07:00) Arizona</option>
					<option value="-420">(UTC-07:00) Chihuahua, La Paz, Mazatlan</option>
					<option value="-420">(UTC-07:00) Mountain Time (US &amp; Canada)</option>
					<option value="-360">(UTC-06:00) Central America</option>
					<option value="-360">(UTC-06:00) Central Time (US &amp; Canada)</option>
					<option value="-360">(UTC-06:00) Guadalajara, Mexico City, Monterrey</option>
					<option value="-360">(UTC-06:00) Saskatchewan</option>
					<option value="-300">(UTC-05:00) Bogota, Lima, Quito, Rio Branco</option>
					<option value="-300">(UTC-05:00) Eastern Time (US &amp; Canada)</option>
					<option value="-300">(UTC-05:00) Indiana (East)</option>
					<option value="-270">(UTC-04:30) Caracas</option>
					<option value="-240">(UTC-04:00) Asuncion</option>
					<option value="-240">(UTC-04:00) Atlantic Time (Canada)</option>
					<option value="-240">(UTC-04:00) Cuiaba</option>
					<option value="-240">(UTC-04:00) Georgetown, La Paz, Manaus, San Juan</option>
					<option value="-240">(UTC-04:00) Santiago</option>
					<option value="-210">(UTC-03:30) Newfoundland</option>
					<option value="-180">(UTC-03:00) Brasilia</option>
					<option value="-180">(UTC-03:00) Buenos Aires</option>
					<option value="-180">(UTC-03:00) Cayenne, Fortaleza</option>
					<option value="-180">(UTC-03:00) Greenland</option>
					<option value="-180">(UTC-03:00) Montevideo</option>
					<option value="-180">(UTC-03:00) Salvador</option>
					<option value="-120">(UTC-02:00) Coordinated Universal Time-02</option>
					<option value="-120">(UTC-02:00) Mid-Atlantic - Old</option>
					<option value="-60">(UTC-01:00) Azores</option>
					<option value="-60">(UTC-01:00) Cape Verde Is.</option>
					<option value="0">(UTC) Casablanca</option>
					<option selected="selected" value="-0">(LOCAL) Local Time</option>
					<option value="0">(UTC) Coordinated Universal Time</option>
					<option value="0">(UTC) Dublin, Edinburgh, Lisbon, London</option>
					<option value="0">(UTC) Monrovia, Reykjavik</option>
					<option value="60">(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</option>
					<option value="60">(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</option>
					<option value="60">(UTC+01:00) Brussels, Copenhagen, Madrid, Paris</option>
					<option value="60">(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb</option>
					<option value="60">(UTC+01:00) West Central Africa</option>
					<option value="60">(UTC+01:00) Windhoek</option>
					<option value="120">(UTC+02:00) Amman</option>
					<option value="120">(UTC+02:00) Athens, Bucharest</option>
					<option value="120">(UTC+02:00) Beirut</option>
					<option value="120">(UTC+02:00) Cairo</option>
					<option value="120">(UTC+02:00) Damascus</option>
					<option value="120">(UTC+02:00) E. Europe</option>
					<option value="120">(UTC+02:00) Harare, Pretoria</option>
					<option value="120">(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius</option>
					<option value="120">(UTC+02:00) Istanbul</option>
					<option value="120">(UTC+02:00) Jerusalem</option>
					<option value="120">(UTC+02:00) Tripoli</option>
					<option value="180">(UTC+03:00) Baghdad</option>
					<option value="180">(UTC+03:00) Kaliningrad, Minsk</option>
					<option value="180">(UTC+03:00) Kuwait, Riyadh</option>
					<option value="180">(UTC+03:00) Nairobi</option>
					<option value="210">(UTC+03:30) Tehran</option>
					<option value="240">(UTC+04:00) Abu Dhabi, Muscat</option>
					<option value="240">(UTC+04:00) Baku</option>
					<option value="240">(UTC+04:00) Moscow, St. Petersburg, Volgograd</option>
					<option value="240">(UTC+04:00) Port Louis</option>
					<option value="240">(UTC+04:00) Tbilisi</option>
					<option value="240">(UTC+04:00) Yerevan</option>
					<option value="240">(UTC+04:30) Kabul</option>
					<option value="300">(UTC+05:00) Ashgabat, Tashkent</option>
					<option value="300">(UTC+05:00) Islamabad, Karachi</option>
					<option value="330">(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi</option>
					<option value="330">(UTC+05:30) Sri Jayawardenepura</option>
					<option value="345">(UTC+05:45) Kathmandu</option>
					<option value="360">(UTC+06:00) Astana</option>
					<option value="360">(UTC+06:00) Dhaka</option>
					<option value="360">(UTC+06:00) Ekaterinburg</option>
					<option value="390">(UTC+06:30) Yangon (Rangoon)</option>
					<option value="420">(UTC+07:00) Bangkok, Hanoi, Jakarta</option>
					<option value="420">(UTC+07:00) Novosibirsk</option>
					<option value="480">(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi</option>
					<option value="480">(UTC+08:00) Krasnoyarsk</option>
					<option value="480">(UTC+08:00) Kuala Lumpur, Singapore</option>
					<option value="480">(UTC+08:00) Perth</option>
					<option value="480">(UTC+08:00) Taipei</option>
					<option value="480">(UTC+08:00) Ulaanbaatar</option>
					<option value="540">(UTC+09:00) Irkutsk</option>
					<option value="540">(UTC+09:00) Osaka, Sapporo, Tokyo</option>
					<option value="540">(UTC+09:00) Seoul</option>
					<option value="540">(UTC+09:30) Adelaide</option>
					<option value="540">(UTC+09:30) Darwin</option>
					<option value="600">(UTC+10:00) Brisbane</option>
					<option value="600">(UTC+10:00) Canberra, Melbourne, Sydney</option>
					<option value="600">(UTC+10:00) Guam, Port Moresby</option>
					<option value="600">(UTC+10:00) Hobart</option>
					<option value="600">(UTC+10:00) Yakutsk</option>
					<option value="660">(UTC+11:00) Solomon Is., New Caledonia</option>
					<option value="660">(UTC+11:00) Vladivostok</option>
					<option value="720">(UTC+12:00) Auckland, Wellington</option>
					<option value="720">(UTC+12:00) Coordinated Universal Time+12</option>
					<option value="720">(UTC+12:00) Fiji</option>
					<option value="720">(UTC+12:00) Magadan</option>
					<option value="720">(UTC+12:00) Petropavlovsk-Kamchatsky - Old</option>
					<option value="780">(UTC+13:00) Nuku&#39;alofa</option>
					<option value="780">(UTC+13:00) Samoa</option>
					<option value="840">(UTC+14:00) Kiritimati Island</option>
					</select>
					<span class="field-validation-valid" data-valmsg-for="TimeZoneId" data-valmsg-replace="true"></span>
			</div>
		</div>
		




	<script>

		//$('#btnSettingsBasicSave').click(function () {
		//	$('#btnSettingsBasicSave').attr("disabled", true);
		//	$('#btnSettingsBasicSave').parents('form').submit()
		//});
	
	</script>
</form>
</div>

</div>
<!-- Events TAB> ###################################################   -->		
		
<div class="tab-pane" id="tabPrefs">
		

			
<form action="/TrackerDatapane/SettingsEvents" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabPrefs" id="form1" method="post">	
	<div class="form-horizontal">


		
			<div class="form-group">	
			 <label class="control-label col-sm-2" for="Dimmer0Name">Master</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Dimmer0Name" placeholder="Dimmer_0" onchange="changedDimmer0();">	
			</div>
		</div>  
		
		
						<div class="form-group">	
			 <label class="control-label col-sm-2"   for="Dimmer1Name">LED Dimmer 1</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Dimmer1Name" placeholder="Dimmer_1" onchange="changedDimmer1();">	
			</div>
		</div>  
		
							<div class="form-group">	
			 <label class="control-label col-sm-2"   for="Dimmer2Name">LED Dimmer 2</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Dimmer2Name" placeholder="Dimmer_2" onchange="changedDimmer2();">	
			</div>
		</div>  
		
		
					<div class="form-group">	
			 <label class="control-label col-sm-2"   for="Dimmer3Name">LED Dimmer 3</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Dimmer3Name" placeholder="Dimmer_3" onchange="changedDimmer3();">	
			</div>
		</div>  
		
						<div class="form-group">	
			 <label class="control-label col-sm-2"   for="Dimmer4Name">RGB Dimmer</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Dimmer4Name" placeholder="Dimmer_4" onchange="changedDimmer4();">	
			</div>
		</div>  
		
					<div class="form-group">	
			 <label class="control-label col-sm-2" for="PGNInstance">Dimmer Type/Instance</label>
			 <div class="col-sm-6">
			<select class="form-control" id="PGNInstance"  onchange="SetPGNInstance(this);" name="D3" >
				<option value="0">LED 1 Channel 00</option>
				<option value="1">LED 1 Channel 01</option>
				<option value="2">LED 1 Channel 02</option>
				<option value="3">LED 1 Channel 03</option>
				<option value="4">LED 1 Channel 04</option>
				<option value="5">LED 1 Channel 05</option>
				<option value="6">LED 1 Channel 06</option>
				<option value="7">LED 1 Channel 07</option>
				<option value="8">LED 1 Channel 08</option>
				<option value="9">LED 1 Channel 09</option>
				<option value="10">LED 1 Channel 10</option>
				<option value="11">LED 1 Channel 11</option>
				<option value="12">LED 1 Channel 12</option>
				<option value="13">LED 1 Channel 13</option>
				<option value="14">LED 1 Channel 14</option>
				<option value="15">LED 1 Channel 15</option>
				<option value="16">LED 1 Channel 16</option>
				<option value="17">LED 1 Channel 17</option>
				<option value="18">LED 1 Channel 18</option>
				<option value="19">LED 1 Channel 19</option>
				<option value="20">LED 1 Channel 20</option>
				<option value="21">LED 1 Channel 21</option>
				<option value="22">LED 1 Channel 22</option>
				<option value="23">LED 1 Channel 23</option>
				<option value="24">LED 1 Channel 24</option>
				<option value="25">LED 1 Channel 25</option>
				<option value="26">LED 1 Channel 26</option>
				<option value="27">LED 1 Channel 27</option>
				<option value="28">LED 1 Channel 28</option>
				<option value="29">LED 1 Channel 29</option>
				<option value="30">LED 1 Channel 30</option>
				<option value="31">LED 1 Channel 31</option>
				<option value="32">LED 1 Channel 32</option>
				<option value="33">LED 1 Channel 33</option>
				<option value="34">LED 1 Channel 34</option>
				<option value="35">LED 1 Channel 35</option>
				<option value="36">LED 1 Channel 36</option>
				<option value="37">LED 1 Channel 37</option>
				<option value="38">LED 1 Channel 38</option>
				<option value="39">LED 1 Channel 39</option>
				<option value="40">LED 1 Channel 40</option>
				<option value="41">LED 1 Channel 41</option>
				<option value="42">LED 1 Channel 42</option>
				<option value="43">LED 1 Channel 43</option>
				<option value="44">LED 1 Channel 44</option>
				<option value="45">LED 1 Channel 45</option>
				<option value="46">LED 1 Channel 46</option>
				<option value="47">LED 1 Channel 47</option>
				<option value="48">LED 1 Channel 48</option>
				<option value="49">LED 1 Channel 49</option>
				<option value="50">LED 1 Channel 50</option>
				<option value="51">LED 1 Channel 51</option>
				<option value="52">LED 1 Channel 52</option>
				<option value="53">LED 1 Channel 53</option>
				<option value="54">LED 1 Channel 54</option>
				<option value="55">LED 1 Channel 55</option>
				<option value="56">LED 1 Channel 56</option>
				<option value="57">LED 1 Channel 57</option>
				<option value="58">LED 1 Channel 58</option>
				<option value="59">LED 1 Channel 59</option>
				<option value="60">LED 1 Channel 60</option>
				<option value="61">LED 1 Channel 61</option>
				<option value="62">LED 1 Channel 62</option>
				<option value="63">LED 1 Channel 63</option>
				
				
				<option value="128">RGB 00</option>
				<option value="129">RGB 01</option>
				<option value="130">RGB 02</option>
				<option value="131">RGB 03</option>
				<option value="132">RGB 04</option>
				<option value="133">RGB 05</option>
				<option value="134">RGB 06</option>
				<option value="135">RGB 07</option>
				<option value="136">RGB 08</option>
				<option value="137">RGB 09</option>
				<option value="138">RGB 10</option>
				<option value="139">RGB 11</option>
				<option value="140">RGB 12</option>
				<option value="141">RGB 13</option>
				<option value="142">RGB 14</option>
				<option value="143">RGB 15</option>
				
				
				<option value="192">LED 4 Channel 00</option>
				<option value="193">LED 4 Channel 01</option>
				<option value="194">LED 4 Channel 02</option>
				<option value="195">LED 4 Channel 03</option>
				<option value="196">LED 4 Channel 04</option>
				<option value="197">LED 4 Channel 05</option>
				<option value="198">LED 4 Channel 06</option>
				<option value="199">LED 4 Channel 07</option>
				<option value="200">LED 4 Channel 08</option>
				<option value="201">LED 4 Channel 09</option>
				<option value="202">LED 4 Channel 10</option>
				<option value="203">LED 4 Channel 11</option>
				<option value="204">LED 4 Channel 12</option>
				<option value="204">LED 4 Channel 13</option>
				<option value="206">LED 4 Channel 14</option>
				<option value="207">LED 4 Channel 15</option>
	
				</select></div>
				</div> 
				
				
				
				<!--
			<div class="form-group">	
			 <label class="control-label col-sm-2" for="DimmerType">Type</label>
			 <div class="col-sm-6">
			<select class="form-control" id="DimmerType"  onchange="SetDimmerType(this);" name="DimmerType" >
			  <option value="0">LED Light</option>
			  <option value="1">RGB Light</option>

	
				</select></div>
				</div> 	
-->				
				
							<div class="form-group">	
			 <label class="control-label col-sm-2" for="DimmerFlash">Dimmer Blink</label>
			 <div class="col-sm-6">
				<select class="form-control" id="DimmerFlash"  onchange="setDimmerFlash(this);" name="D3" >
				  <option value="0">Disable</option>
				  <option value="1">1 Hz</option>
				  <option value="2">2 Hz</option>
				  <option value="3">3 Hz</option>
				  <option value="4">4 Hz</option>
				  <option value="5">5 Hz</option>
				  <option value="6">6 Hz</option>
				  <option value="7">7 Hz</option>
				  <option value="8">8 Hz</option>
				  <option value="9">9 Hz</option>
				  <option value="10">10 Hz</option>
				  <option value="11">11 Hz</option>
				  <option value="12">12 Hz</option>
				  <option value="13">13 Hz</option>
				  <option value="14">14 Hz</option>
				  <option value="15">15 Hz</option>
				</select></div>
				</div> 	
				
			<div class="form-group">	
			 <label class="control-label col-sm-2" for="DimmerDuty">Dimmer Duty</label>
			 <div class="col-sm-6">
				<select class="form-control" id="DimmerDuty"  onchange="setDimmerDuty(this);" name="D3" >
				  <option value="0">Disable</option>
				  <option value="1">5 %</option>
				  <option value="2">15 %</option>
				  <option value="3">20 %</option>
				  <option value="4">25 %</option>
				  <option value="5">30 %</option>
				  <option value="6">35 %</option>
				  <option value="7">45 %</option>
				  <option value="8">50 %</option>
				  <option value="9">55 %</option>
				  <option value="10">60 %</option>
				  <option value="11">65 %</option>
				  <option value="12">75 %</option>
				  <option value="13">80 %</option>
				  <option value="14">85 %</option>
				  <option value="15">95 %</option>
				</select></div>
				</div> 	
					
				
				
			<div class="form-group">	
			
			 <label class="control-label col-sm-2" for="ClockPGNInstance">Clock Source</label>
			 
			 <div class="col-sm-6">
				<select class="form-control" id="ClockPGNInstance"  onchange="SetClockPGNInstance(this);" name="D3" >
				  <option value="0">GPS</option>
				  <option value="1">GLONASS</option>
				  <option value="2">Radio Station</option>
				  <option value="3">Cesium clock</option>
				  <option value="4">Rubidium clock</option>
				  <option value="5">Crystal clock</option>
				  <option value="6">SeaGauge</option>
				  <option value="7">GNSS</option>
				  <option value="8">HelmSmart</option>
				  <option value="9">SeaSmart RTC</option>
				</select></div>
				
				</div> 
				
				<div class="form-group">	
				
				 <label class="control-label col-sm-2" for="ClockLcdColor">Clock Color</label>
				 
				<div class="col-sm-6">
				<select class="form-control" id="ClockLcdColor"  onchange="selectClockLcdColor(this);" name="D2">   
                    <option value="BEIGE">Beige</option>
                    <option value="BLUE">Blue</option>
                    <option value="ORANGE">Orange</option>
                    <option value="RED">Red</option>
                    <option value="YELLOW">Yellow</option>
                    <option value="WHITE">White</option>
                    <option value="GRAY">Gray</option>
                    <option value="BLACK">Black</option>
                    <option value="GREEN">Green</option>
                    <option value="BLUE2">Blue2</option>
                    <option value="BLUE_BLACK">BlueBlack</option>
                    <option value="BLUE_DARKBLUE">BlueDarkBlue</option>
                    <option value="BLUE_GRAY">BlueGray</option>
                    <option value="STANDARD">Standard</option>
                    <option value="STANDARD_GREEN">StandardGreen</option>
                    <option value="BLUE_BLUE">BlueBlue</option>
                    <option value="RED_DARKRED">RedDarkRed</option>
                    <option value="DARKBLUE">DarkBlue</option>
                    <option value="LILA">Lila</option>
                    <option value="BLACKRED">BlackRed</option>
                    <option value="DARKGREEN">DarkGreen</option>
                    <option value="AMBER">Amber</option>
                    <option value="LIGHTBLUE">LightBlue</option>
                    <option value="SECTIONS">Sections</option>
                    </select></div>
		
		</div> 
		
				<div class="form-group" style="margin-top:25px;">
				
			<div class="col-sm-offset-4 col-sm-4">
				<button id="btnSettingsEventSave" name="btnValue" value="Save" class="btn btn-primary" onclick="UpdateLogAlert();">Save</button>
				<button id="btnSettingsEventDelete" name="btnValue" value="Delete" class="btn btn-primary" onclick="DeleteAlert();">Delete</button>
				<button name="btnValue" value="Cancel" class="btn btn-default cancel">Cancel</button>
			
			</div>
		</div>
		
		
		</div>
</form>
</div>
		
<!-- Trigger TAB> ###################################################   -->		
		
<div class="tab-pane" id="tabTriggers">
</div>	

<!-- GEOFENCE TAB> ###################################################   -->
<div class="tab-pane" id="tabGeoFence">
		
</div>




<!-- Report TAB> ###################################################   -->
<div class="tab-pane" id="tabGeoFenceReport">
	<style>
 th {
	 background-color : #428bca;
	 color:white;
 }



</style>	
		
		<div class="form-horizontal">


			
			    <Table class="alerttable" id="ReportSelect" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
		
          <td style="width:300px;"> Event</td>
          <td style="width:100px;"> Span</td>    
          <td style="width:100px;"> Interval</td>
	
         <!-- <th class="control-label col-sm-2"> Get  </th> -->

			   </TR>
      </thead>
      <tbody class="alerttbody">
	  
	  
	  
				<div class="form-group">

				
				<select style="width:300px;" class="form-control" class="col-sm-5"" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="ReportsID" name="ReportsID" onchange="ChangedReportsID(this);">
				<option value="/M2M/Dimmer/Value 0 Port">Dimmer - Port - Value0</option>
				<option value="/M2M/Dimmer/Value 1 Port">Dimmer - Port - Value1</option>
				<option value="/M2M/Dimmer/Value 2 Port">Dimmer - Port - Value2</option>
				<option value="/M2M/Dimmer/Value 3 Port">Dimmer - Port - Value3</option>
				<option value="/M2M/Dimmer/Value 4 Port">Dimmer - Port - Value4</option>
				</select>
			
	
			
	
					<select style="width:100px;" class="form-control "  id="ReportRollup" name="ReportRollup" onchange="ChangedReportRollup(this);">
					  <option value="1">1min</option>
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1440">1day</option>
					  <option value="2880">2day</option>
					  <option value="4320">3day</option>
					  <option value="5760">4day</option>
					  <option value="7200">5day</option>
					  <option value="8640">6day</option>
					  <option value="10080">1week</option>
					  <option value="20160">2weeks</option>
					  <option value="30240">3weeks</option>
					  <option value="1m">1month</option>
					  <option value="2m">2months</option>
					  <option value="2m">3months</option>
					  <option value="4m">4months</option>
					  <option value="5m">5months</option>
					  <option value="6m">6months</option>
				</select>		
			
		
			
	
					<select style="width:100px;" class="form-control "  id="ReportInterval" name="ReportInterval" onchange="ChangedReportInterval(this);">
					  <option value="1">1min</option>
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1441">1day</option>
					  <option value="2881">2day</option>
					  <option value="4321">3day</option>
					  <option value="5761">4day</option>
					  <option value="7201">5day</option>
					  <option value="8641">6day</option>
					  <option value="10081">1week</option>
					  <option value="20161">2weeks</option>
					  <option value="30241">3weeks</option>
					  <option value="40321">4weeks</option>
  
				</select>		
			

		  
				<button id="btnSettingsEventSave" name="btnValue" value="Save" class="btn btn-primary" onclick="GetReport();">Get Report</button>
				
			
			</div>
	  
	  
	  </tbody>
      
    </Table>
			
			
			
		</div>

		<div class="form-group text-center text-info" style="margin-top:10px;"  >
<div class="alertdiv" id="report_data" style="width:100%; height:10%; display: block">

    <!--
    <form name="AlertData">
      <textarea id="AlertText" name="AlertText" rows="20" style="width: 100%; display: block"></textarea>
    </form>
    -->
    <Table class="alerttable" id="ReportData" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
          <th> Timestamp</th>
		  <th> Source </th>
          <th> Mean</th>    
          <th> Min</th>
          <th> Max  </th>
          <th> Delta </th>
          <th> Count </th>
		  <th>Status</th>
			   </TR>
      </thead>
      <tbody class="alerttbody"></tbody>
      
    </Table>
    
  </div>
				</div>
		

		</div>
	</div>




	
	
	
	
	<script>
		$(function () { $("[data-toggle='tooltip']").tooltip(); });
	</script>


</body>

</html>

