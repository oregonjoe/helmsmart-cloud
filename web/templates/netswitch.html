<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>netSwitch - HelmSmart Switch</title>
	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="{{ url_for('static', filename='js/modernizr-2.6.2.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.unobtrusive-ajax.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.unobtrusive.js') }}"></script>
	 <script type="text/javascript" src="{{ url_for('static', filename='js/PGNSelectFunctions.js') }}" ></script>
	 <script src="{{ url_for('static', filename='js/ParseN2KDataJSON.js') }}" type="text/javascript"></script>

  <script type="text/javascript" src="{{ url_for('static', filename='js/ChangeDialStyleJSON.js') }}" ></script>

	<script type="text/javascript" src="{{ url_for('static', filename='js/tween-min.js') }}"></script>
<script type="text/javascript" src="{{ url_for('static', filename='js/SSsteelseries-min.js') }} " ></script>

 
    <!-- <script type="text/javascript" src="{{ url_for('static', filename='js/jquery-ui-timepicker-addon.js') }}"></script> -->
       <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
       <script type="text/javascript" src="{{ url_for('static', filename='js/jscolor.js') }} " ></script>
	   
	<!--   <script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-datetimepicker.js') }} " ></script> -->
	   
	   
	   
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />  
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/fileuploadstyles.css') }}"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/persona-buttons.css') }}"/>
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='stylesheets/helmsmart-buttons.css') }}"/> 
	

	   <!-- <script src='https://cdn.firebase.com/v0/firebase.js'></script> -->
	   
	   <script src="https://www.gstatic.com/firebasejs/3.6.4/firebase.js"></script>
	   
	   
	<style>
		.nav-tabs > li.active > a,
		.nav-tabs > li.active > a:hover,
		.nav-tabs > li.active > a:focus {
			color: #fff;
			background-color: #428bca; 
		}

		.tab-content {
			margin-top: 15px;
		}
	</style>

</head> 
<body>

<div>
  <center>
  {% if session['userid'] %}
     <a href="https://www.helmsmart-cloud.com" id="login" class="persona-button">
    <span>HelmSmart: {{session['username']}}</span></a>
  {% else %}
    <a href="https://www.helmsmart-cloud.com" id="login" class="persona-button">
      <span>HelmSmart: Guest</span></a>
  {% endif %}
  </center>
</div>

	<div class="container body-content">
		



<script type="text/javascript" src="{{ url_for('static', filename='js/support.js') }}" ></script>

<style>
	.form-group {
		margin-bottom: 5px;
	}

	.control-label {
		padding-right: 3px;
	}

	.timeAgo {
		color: gray;
	}

	.valueFormat {
		color: black;
	}

	#tabGeoFence .form-control-static,
	#tabGeoFence .control-label {
		padding-top: 0px;
		padding-bottom: 0px;
	}

	hr {
		margin-top: 2px;
		margin-bottom: 6px;
	}

	input[type=checkbox] {
		margin-left: 0px !important;
	}
</style>

<script>
	$(function () {
		$(document).ajaxComplete(function (event, xhr, settings) {
			if (xhr.getResponseHeader('ReloadWholePage')) {
				window.location.reload();	//Reload the whole datapane
			}
		});
		
		$('.nav-tabs a[href="#tabDimmers"]').tab('show');
		//RegisterDevice();
		//GetAlertEvents();
		/*
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabPrefs')
			alert("events tab");
			GetAlertEvents();
				
		});
		*/
	});
	/*
	//DoOnChange is used in the Edit template for EventValue
	function DoOnChange(t) {
		if (t.value == 0)
			$('#' + t.id).nextAll('span:first').hide()
		else
			$('#' + t.id).nextAll('span:first').show()
	}

	
	$(function () {
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabPrefs')
			alert("events tab");
			GetAlertEvents();
				
		});
	});
	
	
	$(document).ready(function () {
$('.nav nav-tabs').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
 })
 

    $('.tabs').bind('change', function (e) {
        // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello");
        // Load data etc
    });
	
$('.nav-tabs').bind('change', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello");
        // Load data etc
    });
 
 
}); 
  */
  
  	/*
	$(document).ready(function () {
$('#tab a').click(function (e) {
  e.preventDefault()
  $(this).tab('show')
 })
}); 
  */
  
  
 
  
</script>


	
	



<!-- Nav tabs -->
<ul class="nav nav-tabs" id="tab" role="tablist">
	<li><a href="#tabMarketing" role="tab" data-toggle="tab">Info</a></li>
	<li><a href="#tabLive" role="tab" data-toggle="tab">Live</a></li>

		<li><a href="#tabDimmers" role="tab" data-toggle="tab">Devices</a></li>
		<li><a href="#tabPrefs" role="tab" data-toggle="tab">Prefs</a></li>
	<!--	<li><a href="#tabTriggers" role="tab" data-toggle="tab">Triggers</a></li> -->
	<!--	<li><a href="#tabGeoFence" role="tab" data-toggle="tab">GeoFence</a></li> -->
		<li><a href="#tabGeoFenceReport" role="tab" data-toggle="tab">Report</a></li>
</ul>

<!-- Tab panes -->
<div class="tab-content">

	<!-- Tab pane -->
	<div class="tab-pane" id="tabMarketing">
			<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>HelmSmart Alerts</title>
	<link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" type="text/css" />
	<link href="{{ url_for('static', filename='css/bootstrap-switch.min.css') }}" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="{{ url_for('static', filename='js/modernizr-2.6.2.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery-2.1.1.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/bootstrap-switch.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.unobtrusive-ajax.min.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/jquery_blockUI.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.validate.unobtrusive.js') }}"></script>
	<style>
		.nav-tabs > li.active > a,
		.nav-tabs > li.active > a:hover,
		.nav-tabs > li.active > a:focus {
			color: #fff;
			background-color: #428bca;
		}

		.tab-content {
			margin-top: 15px;
		}
	</style>
<!--	
<script src="{{ url_for('static', filename='js/netDimmerGlobals.js') }}" type="text/javascript"></script>	 
-->
	  
<script type="text/javascript">
//***************************************************
//  Page Parameters Global Defaults
//***************************************************
var PageID = 5;
var CookiePrefix = "NDP0";
var PageLayout = 2;
var DialStart = 0;
var PageBackGroundColor = "#336699";
var PageForeGroundColor = "#FFFFFF";
var ClockLCDColor = 0;
var SystemClockPGNID = 6;
var UpdateInterval = 3000;
var DialTimeout = 4;
var xmlDescription = "SeaSmart Switch";
 
//***************************************************
// Dial Parameters Global Defaults
//***************************************************
 
var DialType = new Array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);
var DialPGNInstance = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialPGNNumber = new Array("127501","127501","127501","127501","127501","127501","127501","127501","127501","127501","127501","127501","127501","127501","127501","127501");
var DialPGNParameter = new Array(0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15);
var DialUnits = new Array(16,16,4,24,26,16,16,27,0,0,0,0,0,0,0,0);
var DialMin = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialMax = new Array(100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100);
var DialAlarm = new Array(200,3500,40,20,10,10,200,10,50,50,50,50,50,50,50,50);
var DialAlarmState = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialText = new Array("Switch 0","Switch 1","Switch 2","Switch 3","Switch 4","Switch 5","Switch 6","Switch 7","Switch 8","Switch 9","Switch 10","Switch 11","Dimmer_0","Dimmer_1","Dimmer_2","Dimmer_3");
var DialFrameType = new Array(5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5);
var DialBackground = new Array(16,16,16,16,16,16,16,16,16,16,16,16,16,16,16,16);
var DialLCDColor = new Array(17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17);
var DialPointerColor = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);
var DialPonterType = new Array(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0); 

var ClockLCD;




	//var DialPGNNumber = new Array();
	var myEventID = new Array();
	var myEventTag = new Array();
	var myEventUnits = new Array();
	var myEventMax = new Array();
	var myEventMin = new Array();
	var myEventAlarmMode  = new Array();
	var myEventAlarmModeType  = new Array();
	var myEventInterval = new Array();
	var myEventSource = new Array();
	var myEventName = new Array();
	
	var gLatitude=0.00;
	var gLongitude=0.00;
	
	var gAlertLatitude=0.00;
	var gAlertLongitude=0.00;
	
	var gAlertRadius = 1000;
	
	
	var gn2ktime = new Array();
    var glat  = new Array();
    var glng  = new Array();
    var gspeed  = new Array();
	var gdistance  = new Array();
	var fbdevice;
	
	var timezoneOffset = 0;
	
	var index = 0;
	var gUserID="000000000000";
	//var gDeviceID="527805749392";
	var gDeviceID="";
	var gDeviceKey="";
	//var gDeviceName="001EC0B415C2:SSENETG2_SeaDream";
	var gDeviceName="";


  var device;
  var firebase;
    var rootRef;;

	
	var pagetype=5;
	var gprefkey=0;
	
//		var DialPGNInstance = new Array(0,0,0,0,0,0,0);

//	var DialPGNNumber = new Array("130946","130946","130946","130946","130946","130946");

//	var DialPGNParameter = new Array(0,1,2,3,4,5);

//	var DialUnits = new Array(26,26,26,26,26,26);

//	var SystemClockPGNID = 6;	
	
  var AlertID=0;
  var device;
  var map;
  //var myLatlng;
  //var myOldLatlng;
  var gmarker;
  var geoRadius;
  
  var markers = new Array();
  var poly;
 // var myinfoWindow = new google.maps.InfoWindow;
var upDateControl = 0;
var gSwitchValues = new Array(2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2);
var gSwitchStates="00000000";
//var gSwitchLockout=1;
var gSwitchLockoutFlag = true;
var gSwitchLockoutDisable = true;
var gSwitchInstance=0;
var gSwitchLockouts = new Array(1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1);

    zpad.zeros = new Array(5).join('0');
    spad.spaces = new Array(7).join(' ');
	
	
	$(document).ready(function () {
	
	var myText;
	//document.getElementById("PGNTypeSource").length = 0;
	
	
		
	//document.getElementById("PGNTypeSource").options[index++] = new Option( "ANY", ".*");

		
	//document.getElementById("EventsID").length = 0;	
	//document.getElementById("EventsID").options[index] = new Option( "** Add New Event **", "0");
	
	//document.getElementById("ReportsID").length = 0;	
	//document.getElementById("ReportsID").options[index] = new Option( "** No Events **", "None");
		
		

	
	   //InitalizeFirebase();
	
    gUserID = "0";
    {% if session['userid'] %}
    gUserID = "{{session['userid']}}";
    {% else %}
    gUserID = "0";
    {% endif %}


    if (gUserID == null)
    {
    gUserID = "0";
    }
    else
    {
    getDeviceList(gUserID);
    //getDeviceParamList(myuserid);
    }
	
	
	document.getElementById("ReportsID").options[0].text = DialText[0];
	document.getElementById("ReportsID").options[1].text = DialText[1];
	document.getElementById("ReportsID").options[2].text = DialText[2];
	document.getElementById("ReportsID").options[3].text = DialText[3];
	document.getElementById("ReportsID").options[4].text = DialText[4];
	
	document.getElementById("ReportsID").options[5].text = DialText[5];
	document.getElementById("ReportsID").options[6].text = DialText[6];
	document.getElementById("ReportsID").options[7].text = DialText[7];
	document.getElementById("ReportsID").options[8].text = DialText[8];
	document.getElementById("ReportsID").options[9].text = DialText[9];
	
	document.getElementById("ReportsID").options[10].text = DialText[10];
	document.getElementById("ReportsID").options[11].text = DialText[11];
	
	document.getElementById("ReportsID").options[12].text = DialText[12];
	document.getElementById("ReportsID").options[13].text = DialText[13];
	
	document.getElementById("ReportsID").options[14].text = DialText[14];
	document.getElementById("ReportsID").options[15].text = DialText[15];

	
	ClockLCD = new steelseries.DisplaySingle('canvasClock', {  width: 320,height: 40, valuesNumeric: false });
 //document.getElementById("ClockPGNInstance").selectedIndex = SystemClockPGNID;
    setClockLcdColor(ClockLCDColor)
	
	
	
				    // Initialize Firebase
					/*
  var config = {
    apiKey: "AIzaSyC7lm1ubR9m9i7KRomA3l3NHBOf_wsOeGE",
    authDomain: "helmsmart-device-message.firebaseapp.com",
    databaseURL: "https://helmsmart-device-message.firebaseio.com",
    storageBucket: "helmsmart-device-message.appspot.com",
    messagingSenderId: "824876491410"
  };
  */
  
       var config = {
    apiKey: "AIzaSyD2HTSEWcIiUr9vn4YnG7_dQx2F19tMapQ",
    authDomain: "helmsmart-ios-pcdin.firebaseapp.com",
    databaseURL: "https://helmsmart-ios-pcdin.firebaseio.com",
    storageBucket: "helmsmart-ios-pcdin.appspot.com",
    messagingSenderId: "824876491410"
  };
   
  
  
  firebase.initializeApp(config);
	
	
	
/*
$('.nav-tabs').bind('change', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
        alert("hello change");
        // Load data etc
    });
*/	
	$('.nav-tabs').bind('click', function (e) {
      // e.target is the new active tab according to docs
        // so save the reference in case it's needed later on
       // window.activeTab = e.target;
        // display the alert
	//	if (e.target.hash == '#tabPrefs')
			//GetAlertEvents();
			//alert("events tab");
		//	if (e.target.hash == '#tabGeoFence')
		//	setTimeout(initializeMaps, 10);	//Workaround for Bootstrap tabs and google maps center bug.
        //alert("hello click");
        // Load data etc
    });
 
/*
		$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
			if (e.target.hash == '#tabPrefs')
			alert("events tab");
			//GetAlertEvents();
				
		});
*/
	
	
}); 

    /* ******************  padding functions ************************************************ */

    function zpad(num, len) {
    var str = String(num),
    diff = len - str.length;
    if(diff <= 0) return str;
    if(diff > zpad.zeros.length)
        zpad.zeros = new Array(diff + 1).join('0');
    return zpad.zeros.substr(0, diff) + str;
}

function spad(num, len) {
    var str = String(num),
        diff = len - str.length;
    if(diff <= 0) return str;
      if(diff > spad.spaces.length)
      spad.spaces= new Array(diff + 1).join(' ');
      return spad.spaces.substr(0, diff) + str;
      }
	  
function pad(number, length) {

        var str = '' + number;
        while (str.length < length) {
            str = '0' + str;
        }

        return str;

    }	  
	  
Date.isLeapYear = function (year) { 
    return (((year % 4 === 0) && (year % 100 !== 0)) || (year % 400 === 0)); 
};

Date.getDaysInMonth = function (year, month) {
    return [31, (Date.isLeapYear(year) ? 29 : 28), 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][month];
};

Date.prototype.isLeapYear = function () { 
    return Date.isLeapYear(this.getFullYear()); 
};

Date.prototype.getDaysInMonth = function () { 
    return Date.getDaysInMonth(this.getFullYear(), this.getMonth());
};

Date.prototype.addMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() + value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};	  
	  
Date.prototype.subMonths = function (value) {
    var n = this.getDate();
    this.setDate(1);
    this.setMonth(this.getMonth() - value);
    this.setDate(Math.min(n, this.getDaysInMonth()));
    return this;
};	


Date.prototype.yyyymmdd = function() {         
                                
        var yyyy = this.getFullYear().toString();                                    
        var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based         
        var dd  = this.getDate().toString();             
                            
        return yyyy + '-' + (mm[1]?mm:"0"+mm[0]) + '-' + (dd[1]?dd:"0"+dd[0]);
   };
   
 Date.prototype.yyyymmddhhmm = function() {         
                                
        var yyyy = this.getFullYear().toString();                                    
        var mm = (this.getMonth()+1).toString(); // getMonth() is zero-based         
        var dd  = this.getDate().toString();    
        var hh  = this.getHours().toString(); 
        var Min  = this.getMinutes().toString(); 		
                            
        return yyyy + '-' + (mm[1]?mm:"0"+mm[0]) + '-' + (dd[1]?dd:"0"+dd[0]) + ' ' + hh + ':' + Min;
   };
   
   Date.prototype.yyyymmddhhmmss = function() {         
                                
        var yyyy = this.getFullYear().toString();
        var MM = pad(this.getMonth() + 1,2);
        var dd = pad(this.getDate(), 2);
        var hh = pad(this.getHours(), 2);
        var mm = pad(this.getMinutes(), 2)
        var ss = pad(this.getSeconds(), 2)

        return yyyy + '-' + MM + '-' + dd + ' ' +  hh + ':' + mm + ':' + ss;
   };   
	   
	  
function ConvertValueUnits(value, type)  
 {



      }

function InitalizeFirebase()
{
	//var AccountDataFolder = "001EC0B415C2"
	var AccountDataFolder = gDeviceID;
	
   // var table = document.getElementById("AlertData");

   // var rowCount = table.rows.length;

   // for(x=rowCount-1; x>0; x--)
  //  table.deleteRow(x);


  //  if(fbdevice != null)
 //   fbdevice.off();
	
	if(rootRef != null)
		rootRef.off();


    //FireBaseURL = "https://seasmart.firebaseio.com/events/" + AccountDataFolder + "/Alert/";
	//FireBaseURL = "https://seasmart.firebaseio.com/events/" + gDeviceKey + "/Insert/";
	 // FireBaseURL = "events/"  + gDeviceKey + "/Insert/"; 	
	  	FireBaseURL = "DEVICE/"  + gDeviceKey;
	  
    // alert(FireBaseURL);
  //  fbdevice = new Firebase(FireBaseURL);
  //  fbdevice.on('child_added', function(snapshot) {
  //  ShowFirebaseData(snapshot.val());
  //  });
	
	
	rootRef = firebase.database().ref(FireBaseURL);
	
	
    rootRef.on('value', function(snapshot) {
    ShowFirebaseData(snapshot.val());
    });
	

}

function ShowFirebaseData(mydata)
{


 try{
   //var myvalues = mydata.pushsmart;
   var myvalues = mydata.JSON;
   
    if(myvalues != null)
    {


		UpdateAlertValues( myvalues)
          
  
   }
   }
   catch(err)
   {}
   
   
 }
 
 
function SetPGNInstance(sel)
{
 var myInstance;
 var mylength = DialPGNInstance.length;
 
 
 myInstance = sel.selectedIndex;
 gSwitchInstance = myInstance;
 
 
 for(i=0; i<mylength; i++)
 {
	DialPGNInstance[i] = myInstance;
 
 }
 
 
}

function UpdateAlertValues(mydata)
{

var CanvasIndex=0;
var N2KValues = new Array();
var DialIndex;
var PGN126992Values = new Array();
var index=0;

	var dimmervalue;

	// Check if a timeout occurred
	if(!mydata)
	{

	}
	
// Get System Time
      N2KValues = GetPGN126992(mydata, SystemClockPGNID );

       if(N2KValues.length > 0)
            ClockLCD.setValue(N2KValues.pop());  // Time       
	
	
	for(DialIndex=0; DialIndex < 16; DialIndex++) //
     {   
            // N2KValues =  GetPGNbyNumber(mydata, DialPGNInstance[DialIndex], DialPGNNumber[DialIndex], DialPGNParameter[DialIndex], DialUnits[DialIndex] );
				  N2KValues =  GetPGNbyNumber(mydata, DialPGNInstance[DialIndex], DialPGNNumber[DialIndex], DialPGNParameter[DialIndex], DialUnits[DialIndex] );
				  gSwitchValues[DialIndex] = N2KValues.pop();
              }
	
/*
	document.getElementById('dimmer0').value =  Math.floor(gSwitchValues[0]);
	document.getElementById('dimmer0value').value = Math.floor(gSwitchValues[0]);
	document.querySelector('#dimmer0value').innerHTML = Math.floor(gSwitchValues[0]);	

	document.getElementById('dimmer1').value = Math.floor(gSwitchValues[1]);
	document.getElementById('dimmer1value').value = Math.floor(gSwitchValues[1]);
	document.querySelector('#dimmer1value').innerHTML = Math.floor(gSwitchValues[1]);
	

	document.getElementById('dimmer2').value = Math.floor(gSwitchValues[2])
	document.getElementById('dimmer2value').value = Math.floor(gSwitchValues[2]);
	document.querySelector('#dimmer2value').innerHTML = Math.floor(gSwitchValues[2]);
	

	document.getElementById('dimmer3').value = Math.floor(gSwitchValues[3]);
	document.getElementById('dimmer3value').value = Math.floor(gSwitchValues[3]);
	document.querySelector('#dimmer3value').innerHTML = Math.floor(gSwitchValues[3]);
	
	document.getElementById('dimmer4').value = Math.floor(gSwitchValues[4]);
	document.getElementById('dimmer4value').value = Math.floor(gSwitchValues[4]);
	document.querySelector('#dimmer4value').innerHTML = Math.floor(gSwitchValues[4]);
	  */ 
	 for(index=0; index<16; index++)
	{
	  
		if(gSwitchLockouts[index] == 0)
		{
		var switchname;
		
	
			switchname = "switch" + index.toString();
			//$('input[name=switchname]').bootstrapSwitch('readonly', false);
						$("input[name='"+switchname+"']").bootstrapSwitch('readonly', false);
			
			//$('input[i]').bootstrapSwitch('readonly', false);
			//$("input").eq(i).bootstrapSwitch('readonly', false);
		}
	}
		
	for(index=0; index<16; index++)
	{
		/*
		$('input[name="switch0"]').bootstrapSwitch('readonly', false);
		$('input[name="switch1"]').bootstrapSwitch('readonly', false);
		$('input[name="switch2"]').bootstrapSwitch('readonly', false);
		$('input[name="switch3"]').bootstrapSwitch('readonly', false);
		$('input[name="switch4"]').bootstrapSwitch('readonly', false);
		$('input[name="switch5"]').bootstrapSwitch('readonly', false);
		$('input[name="switch6"]').bootstrapSwitch('readonly', false);
		$('input[name="switch7"]').bootstrapSwitch('readonly', false);
		$('input[name="switch8"]').bootstrapSwitch('readonly', false);
		$('input[name="switch9"]').bootstrapSwitch('readonly', false);
		$('input[name="switch10"]').bootstrapSwitch('readonly', false);
		$('input[name="switch11"]').bootstrapSwitch('readonly', false);
		$('input[name="switch12"]').bootstrapSwitch('readonly', false);
		$('input[name="switch13"]').bootstrapSwitch('readonly', false);
		$('input[name="switch14"]').bootstrapSwitch('readonly', false);
		$('input[name="switch15"]').bootstrapSwitch('readonly', false);
	*/
	/*
	$("[name='my-checkbox']").bootstrapSwitch({
  onSwitchChange: function(e) {
    if( iHaveAReason ) {
       e.preventDefault();
       // or - equivalently
       return false;
    }
  }
});
*/
	gSwitchLockoutFlag = true;
	//gSwitchLockoutFlag = false;
	//gSwitchLockoutDisable = true;
		//for(i=0; i<16; i++){
		//gSwitchLockoutFlag == true;
		switchname = "switch" + index.toString();
		//$("input[name='"+switchname+"']").off('switchChange.bootstrapSwitch');
		
		if(gSwitchValues[index] == 0)
			$("input[name='"+switchname+"']").bootstrapSwitch('state', false, false);
			//$("input").eq(i).bootstrapSwitch('state', false, false);
		else if(gSwitchValues[index] == 1)
			//$("input").eq(i).bootstrapSwitch('state', true, false);
			$("input[name='"+switchname+"']").bootstrapSwitch('state', true, false);
		else
			//$("input").eq(i).bootstrapSwitch('indeterminate', true);
			$("input[name='"+switchname+"']").bootstrapSwitch('indeterminate', true);
			
	gSwitchLockoutFlag = false;	
	//gSwitchLockoutDisable = false;	
		//$("input[name='"+switchname+"']").on('switchChange.bootstrapSwitch', function(event, state) {
		//updateSwitch(i, state); });
	
			
		}
		
		
	for(index=0; index<16; index++)
	{
	// decrement lockout count so we we don't toggle
		gSwitchLockouts[index]--;
		if(gSwitchLockouts[index] < 0)
		{
			gSwitchLockouts[index] = 0;
			//gSwitchLockoutFlag = false;
		}
	
	}
		
}

function ChangedDeviceTypeID(sel)
{
gDeviceKey = document.getElementById("DeviceTypeID").options[sel.selectedIndex].value;
					document.getElementById("DeviceKey").value = gDeviceKey;
					
					
					//	GetAlertEvents();		
					
					getDeviceParamList(gUserID);
					//gDeviceKey
					
}
function convert(integer) {
    var str = Number(integer).toString(16);
    return str.length == 1 ? "0" + str : str;
};

function updateSwitch(index, state)
{
var i=0;
	//if( gSwitchLockoutFlag == false)
	{
	
		//if(gSwitchLockoutDisable == false)
		//{
			if( gSwitchLockoutFlag == false)
				gSwitchLockouts[index] = 1;
		//}

		if(state == true)
			gSwitchValues[index] = 1;
		else
			gSwitchValues[index] = 0;
			
		gSwitchStates = "000000";	
		for(i=0; i<16; i++)
			SetgSwitchStates(i, gSwitchValues[i])
	

	if( gSwitchLockoutFlag == false)	
		outputSwitchValues(index, gSwitchValues[index]);
	}
}

function SetgSwitchState(Index, mode, value) {
var myPGNValue ;

myPGNValue = gSwitchStates.charAt(Index);                                 


	if(mode == 0)
	{
		if (myPGNValue == '0' && value == 1)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '1' + gSwitchStates.substr(Index +1);
			return 1;
		}
		else if (myPGNValue == '1' && value == 0)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '0' + gSwitchStates.substr(Index +1);
			return 0;
		}
		else if (myPGNValue == '4' && value == 1)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '5' + gSwitchStates.substr(Index +1);
			return 1;
		}
		else if (myPGNValue == '5' && value == 0)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '4' + gSwitchStates.substr(Index +1);
			return 0;
		}
		else
		{
			//gSwitchStates = gSwitchStates.substr(0, Index) + '0' + gSwitchStates.substr(Index +1);
			return value;
		}
	}
	else if (mode == 1)
		{
		if (myPGNValue == '0' && value == 1)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '4' + gSwitchStates.substr(Index +1);
			return 1;
		}
		else if (myPGNValue == '1' && value == 1)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '5' + gSwitchStates.substr(Index +1);
			return 1;
		}
		else if (myPGNValue == '4' && value == 0)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '0' + gSwitchStates.substr(Index +1);
			return 0;
		}
		else if (myPGNValue == '5' && value == 0)
		{
			gSwitchStates = gSwitchStates.substr(0, Index) + '1' + gSwitchStates.substr(Index +1);
			return 0;
		}
		else
		{
			// gSwitchStates = gSwitchStates.substr(0, Index) + '0' + gSwitchStates.substr(Index +1);
			return value;
		}
	}
}

function SetgSwitchStates(Index, value) {
var vSwitchState = new Array();

			switch(Index)
			{
					case 0:
					vSwitchState[0] = SetgSwitchState(1, 0, value);
					break;

					case 1:
					vSwitchState[1] = SetgSwitchState(1, 1, value);
					break;

					case 2:
					vSwitchState[2] = SetgSwitchState(0, 0, value);
					break;

					case 3:
					vSwitchState[3] = SetgSwitchState(0, 1, value);
					break;

					case 4:
					vSwitchState[4] = SetgSwitchState(3, 0, value);
					break;

					case 5:
					vSwitchState[5] = SetgSwitchState(3, 1, value);
					break;

					case 6:
					vSwitchState[6] = SetgSwitchState(2, 0, value);
					break;

					case 7:
					vSwitchState[7] = SetgSwitchState(2, 1, value);
					break;

					case 8:
					vSwitchState[8] = SetgSwitchState(5, 0, value);
					break;

					case 9:
					vSwitchState[9] = SetgSwitchState(5, 1, value);
					break;

					case 10:
					vSwitchState[10] = SetgSwitchState(4, 0, value);
					break;

					case 11:
					vSwitchState[11] = SetgSwitchState(4, 1, value);
					break;

					case 12:
					vSwitchState[12] = SetgSwitchState(7, 0, value);
					break;

					case 13:
					vSwitchState[13] = SetgSwitchState(7, 1, value);
					break;

					case 14:
					vSwitchState[14] = SetgSwitchState(6, 0, value);
					break;

					case 15:
					vSwitchState[15] = SetgSwitchState(6, 1, value);
					break;
	

			}
}


function outputSwitchValues(index, state)
{
	//var SwitchPGN = "$PCDIN,01F20E,00000000,00,00000000FFFFFFFF*24";
//var SwitchInstance = 0;//DialPGNInstance[i]

	var SwitchPGN = "$PCDIN,01F20E,00000000,00," + convert(gSwitchInstance) + gSwitchStates + "FFFFFFFF*24";

	$("input").eq(index).bootstrapSwitch('readonly', true);
	
	
	/*
	$('input[name="switch0"]').bootstrapSwitch('readonly', true);
	$('input[name="switch1"]').bootstrapSwitch('readonly', true);
	$('input[name="switch2"]').bootstrapSwitch('readonly', true);
	$('input[name="switch3"]').bootstrapSwitch('readonly', true);
	$('input[name="switch4"]').bootstrapSwitch('readonly', true);
	$('input[name="switch5"]').bootstrapSwitch('readonly', true);
	$('input[name="switch6"]').bootstrapSwitch('readonly', true);
	$('input[name="switch7"]').bootstrapSwitch('readonly', true);
	$('input[name="switch8"]').bootstrapSwitch('readonly', true);
	$('input[name="switch9"]').bootstrapSwitch('readonly', true);
	$('input[name="switch10"]').bootstrapSwitch('readonly', true);
	$('input[name="switch11"]').bootstrapSwitch('readonly', true);	
	$('input[name="switch12"]').bootstrapSwitch('readonly', true);
	$('input[name="switch13"]').bootstrapSwitch('readonly', true);	
	$('input[name="switch14"]').bootstrapSwitch('readonly', true);
	$('input[name="switch15"]').bootstrapSwitch('readonly', true);	
	*/
	
	
	SetHelmSmartSwitch(gSwitchInstance, index, state);

}


function ChangedDeviceKey()
{
	gDeviceKey = document.getElementById("DeviceKey").value;

}


function ChangedTimeZone(sel)
{
  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[sel.selectedIndex].value) * 60;

}

function changedSwitch0()
{
	
	DialText[0] = document.getElementById("Switch0Name").value;
	document.getElementById("ReportsID").options[0].text = DialText[0];
	document.getElementById("switch0Label").innerHTML = DialText[0];
}

function changedSwitch1()
{
	DialText[1] = document.getElementById("Switch1Name").value;
	document.getElementById("ReportsID").options[1].text = DialText[1];
	document.getElementById("switch1Label").innerHTML = DialText[1];
}

function changedSwitch2()
{
	DialText[2] = document.getElementById("Switch2Name").value;
	document.getElementById("ReportsID").options[2].text = DialText[2];
	document.getElementById("switch2Label").innerHTML = DialText[2];
}

function changedSwitch3()
{
	DialText[3] = document.getElementById("Switch3Name").value;
	document.getElementById("ReportsID").options[3].text = DialText[3];
	document.getElementById("switch3Label").innerHTML = DialText[3];
}

function changedSwitch4()
{
	DialText[4] = document.getElementById("Switch4Name").value;
	document.getElementById("ReportsID").options[4].text = DialText[4];
	document.getElementById("switch4Label").innerHTML = DialText[4];
}
function changedSwitch5()
{
	DialText[5] = document.getElementById("Switch5Name").value;
	document.getElementById("ReportsID").options[5].text = DialText[5];
	document.getElementById("switch5Label").innerHTML = DialText[5];
}

function changedSwitch6()
{
	DialText[6] = document.getElementById("Switch6Name").value;
	document.getElementById("ReportsID").options[6].text = DialText[6];
	document.getElementById("switch6Label").innerHTML = DialText[6];
}

function changedSwitch7()
{
	DialText[7] = document.getElementById("Switch7Name").value;
	document.getElementById("ReportsID").options[7].text = DialText[7];
	document.getElementById("switch7Label").innerHTML = DialText[7];
}

function changedSwitch8()
{
	DialText[8] = document.getElementById("Switch8Name").value;
	document.getElementById("ReportsID").options[8].text = DialText[8];
	document.getElementById("switch8Label").innerHTML = DialText[8];
}

function changedSwitch9()
{
	DialText[9] = document.getElementById("Switch9Name").value;
	document.getElementById("ReportsID").options[9].text = DialText[9];
	document.getElementById("switch9Label").innerHTML = DialText[9];
}

function changedSwitch10()
{
	DialText[10] = document.getElementById("Switch10Name").value;
	document.getElementById("ReportsID").options[10].text = DialText[10];
	document.getElementById("switch10Label").innerHTML = DialText[10];
}

function changedSwitch11()
{
	DialText[11] = document.getElementById("Switch11Name").value;
	document.getElementById("ReportsID").options[11].text = DialText[11];
	document.getElementById("switch11Label").innerHTML = DialText[11];
}
function changedSwitch12()
{
	DialText[12] = document.getElementById("Switch12Name").value;
	document.getElementById("ReportsID").options[12].text = DialText[12];
	document.getElementById("switch12Label").innerHTML = DialText[12];
}
function changedSwitch13()
{
	DialText[13] = document.getElementById("Switch13Name").value;
	document.getElementById("ReportsID").options[13].text = DialText[13];
	document.getElementById("switch13Label").innerHTML = DialText[13];
}
function changedSwitch14()
{
	DialText[14] = document.getElementById("Switch14Name").value;
	document.getElementById("ReportsID").options[14].text = DialText[14];
	document.getElementById("switch14Label").innerHTML = DialText[14];
}
function changedSwitch15()
{
	DialText[15] = document.getElementById("Switch15Name").value;
	document.getElementById("ReportsID").options[15].text = DialText[15];
	document.getElementById("switch15Label").innerHTML = DialText[15];
}

function SetClockPGNInstance(sel)
{


	// Clock display is Dial ID = 8
	SystemClockPGNID = sel.options[sel.selectedIndex].value;

	
}

function selectClockLcdColor(sel) {
	  

		// clock display is dial=8
	 ClockLCDColor = sel.selectedIndex;


		setClockLcdColor(parseInt(sel.selectedIndex))
}

function setClockLcdColor(ClockLCDColor) {


	
        switch (parseInt(ClockLCDColor)) {
         case 0:
           ClockLCD.setLcdColor(steelseries.LcdColor.BEIGE);
            break;
        case 1:

            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE);
            break;
        case 2:
            ClockLCD.setLcdColor(steelseries.LcdColor.ORANGE);
            break;
        case 3:
            ClockLCD.setLcdColor(steelseries.LcdColor.RED);
            break;
        case 4:
           ClockLCD.setLcdColor(steelseries.LcdColor.YELLOW);
            break;
        case 5:
            ClockLCD.setLcdColor(steelseries.LcdColor.WHITE);
            break;
        case 6:
            ClockLCD.setLcdColor(steelseries.LcdColor.GRAY);
            break;
        case 7:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLACK);
            break;
        case 8:
            ClockLCD.setLcdColor(steelseries.LcdColor.GREEN);
            break;
        case 9:
           ClockLCD.setLcdColor(steelseries.LcdColor.BLUE2);
            break;
        case 10:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_BLACK);
            break;
        case 11:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_DARKBLUE);
            break;
        case 12:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_GRAY);
            break;
        case 13:
           ClockLCD.setLcdColor(steelseries.LcdColor.STANDARD);
            break;
        case 14:
           ClockLCD.setLcdColor(steelseries.LcdColor.STANDARD_GREEN);
            break;
        case 15:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLUE_BLUE);
            break;
        case 16:
            ClockLCD.setLcdColor(steelseries.LcdColor.RED_DARKRED);
            break;
        case 17:
            ClockLCD.setLcdColor(steelseries.LcdColor.DARKBLUE);
            break;
        case 18:
            ClockLCD.setLcdColor(steelseries.LcdColor.LILA);
            break;
        case 19:
            ClockLCD.setLcdColor(steelseries.LcdColor.BLACKRED);
            break;
        case20:
            ClockLCD.setLcdColor(steelseries.LcdColor.DARKGREEN);
            break;
        case 21:
           ClockLCD.setLcdColor(steelseries.LcdColor.DARKGREEN);
            break;
        case 22:
            ClockLCD.setLcdColor(steelseries.LcdColor.AMBER);
            break;
        case 23:
            ClockLCD.setLcdColor(steelseries.LcdColor.LIGHTBLUE);
            break;
        }
}




function ChangedEventTriggerType(sel)
{



}
function ChangedEventTrigger(sel)
{



}



function ChangedEventInterval(sel)
{

}

function ChangedPGNSource(sel)
{
	
}
function ChangedPGNTypeID(sel)
{

}


function ChangedGeoReportRange(sel)
{

}

function ChangedGeoReportRollup(sel)
{




}

function ChangedGeoReportInterval(sel)
{

}


function ChangedReportsID(sel)
{

}

function ChangedReportRollup(sel)
{




}

function ChangedReportInterval(sel)
{

}


function updateEventList(sel)
{

		
}


function SetEventsOptions(myindex){


	
	
}




function handleGetAlertIDs(response)
 {

 
}

function handleGetReport(response)
{
 var index=0;
 var myValue;
  var myValueMin;
   var myValueMax;
    var myValueMean;
	
	
   	$.unblockUI();
   	
       var table = document.getElementById("ReportData");
 
       var rowCount = table.rows.length;
	   
	 //  for(i=0; i<rowCount-1; i++)
	//		table.deleteRow(i);
			
	while(table.rows.length > 1) {
	

		table.deleteRow(1);
	}
			
			
	var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	var myUnits = myEventUnits[myEventIndex];
	var myMin = myEventMin[myEventIndex];
	var myMax = myEventMax[myEventIndex];
	//var myAlarmMode = myEventAlarmMode[myEventIndex];
	var myAlarmMode ="disabled";
			
   index = 0;
   	 response.results.forEach(function(mydata){
	 
	 var row = table.insertRow(1);
	 
				var utcTime = new Date(mydata.epoch*1000);
			
			if(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value == "-0")
			{
				//ldate = 
				//utcTime = utcTime + new Date().getTimezoneOffset();
				//var mydate = new Date(utcTime * 1000);
				var mydate = utcTime;
				
			  row.style.color = "#053B72";
              var cell0 = row.insertCell(0);
          //   cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			    cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
			}
			else
			{
				utcTime = utcTime + timezoneOffset;
				//var mydate = new Date(utcTime * 1000);
				var mydate = utcTime;

              var cell0 = row.insertCell(0);
				cell0.innerHTML = mydate.toUTCString().replace('GMT', '');
			   // cell0.innerHTML = mydate.toString().replace(/GMT.*/g, "");
			}
			
			  var cell1 = row.insertCell(1);
              cell1.innerHTML = mydata.source;
			  cell1.style.textAlign = 'left';
				
	
              var cell2 = row.insertCell(2);
			  myValueMean = mydata.mean
			 
              cell2.innerHTML = spad(parseFloat(myValueMean).toFixed(4),10);
			  cell2.style.textAlign = 'left';
			  
			  var cell3 = row.insertCell(3);
			  myValueMin = mydata.min
			  
              cell3.innerHTML = spad(parseFloat(myValueMin).toFixed(4),10);
			  cell3.style.textAlign = 'left';
			  
			  var cell4 = row.insertCell(4);
			  myValueMax = mydata.max
			  
              cell4.innerHTML = spad(parseFloat(myValueMax).toFixed(4),10);
			  cell4.style.textAlign = 'left';
			  
			  var cell5 = row.insertCell(5);
			  myValue = mydata.derivative
			  if( myValue == null || isNaN(myValue))
				cell5.innerHTML = "---";
			  else
				cell5.innerHTML = spad(parseFloat(myValue).toFixed(4),10);
			  
			  cell5.style.textAlign = 'left';
			  
			  var cell6 = row.insertCell(6);
              cell6.innerHTML = mydata.count;
			  cell6.style.textAlign = 'left';
			  
			  var cell7 = row.insertCell(7);
              //cell6.innerHTML = mydata.count;
			  cell7.style.textAlign = 'left';
			  row.style.color = "#053B72";
			  
			  if(myAlarmMode == "disabled")
			  {
					cell7.innerHTML = "Disabled";
			  }
			  else if(myAlarmMode == "alarm" || myAlarmMode == "alarmemail" || myAlarmMode == "alarmsms")
			  {
			  
					cell7.innerHTML = "Alarm Inactive";
					row.style.color = "#053B72";
					
					if(myMin != 'off')
					{
						if(myValueMin < myMin)
						{
						 cell7.innerHTML = "Alarm Active";
						 row.style.color = "#C70C45"; 
						 }
					}
					
					if(myMax != 'off')
					{
						if(myValueMax > myMax)
						{
						 cell7.innerHTML = "Alarm Active";
						 row.style.color = "#C70C45"; 
						 }
					}
					
			  }
			  else if (parseInt(mydata.count) == 0)
			  {
				cell7.innerHTML = "Missing";
				row.style.color = "#C70C45"; 
				}
	
			  		  /*
			  	<option value="disabled">Disabled</option>
					<option value="status">Status</option>
					<option value="warning">Warning</option>
					<option value="alarm">Alarm</option>
					<option value="error">Error</option>           
					<option value="missing">Missing</option>
			  */
			  
			  
			  
			  
			  
	
		  	});
}



function handleGetGeoReport(response)
{
 
	
}

function handleGetSeriesAttributes(response)
 {

              

 
}
            

function handleRegisterDevice(response)
{


} 



function handleGetDeviceData(response)
{
  var index=0;

  $.unblockUI();

  document.getElementById("DeviceTypeID").options.length = 0;

  response.records.forEach(function(row){
 
     // myDeviceIDs[index]=row[0];
      document.getElementById("DeviceTypeID").options[index++] = new Option(row[0] + ":" + row[1], row[0]);

  });


  document.getElementById("DeviceTypeID").selectedIndex = 0;
  gDeviceKey = document.getElementById("DeviceTypeID").options[0].value;
					document.getElementById("DeviceKey").value = gDeviceKey;
					
	// if(gDeviceKey !== "")
	//	InitalizeFirebase();
		
		//GetAlertEvents();				
		getDeviceParamList(gDeviceKey);			
					
   /*   
  for(i=0; i< document.getElementById("DeviceTypeID").options.length; i++)
	    		{
	    			myDeviceID = document.getElementById("DeviceTypeID").options[i].value;
					document.getElementById("DeviceKey").value = myDeviceID;
		    		//if(myDeviceID == AccountDataFolder)
		    		//	document.getElementById("DeviceID").selectedIndex = i;
		    	}
 */         
 //  if(index == 0)
 //    document.getElementById("SearchStatus").innerHTML = "Get Devices Error";
  //   else
  //    document.getElementById("SearchStatus").innerHTML = "Device List update succcessful "; 
    

    // Search DB for list of series that match deviceID
   //  GetSeriesAttributes(document.getElementById("DeviceID").options[document.getElementById("DeviceID").selectedIndex].value); 
    
    // Search DB for list of Alerts that match DeviceID
  	//		 getAlertIDsList(myuserid);
    
    
}
function InitalizePrefs()
{

		document.getElementById("switch0Label").innerHTML = DialText[0];
		document.getElementById("switch1Label").innerHTML = DialText[1];
		document.getElementById("switch2Label").innerHTML = DialText[2];
		document.getElementById("switch3Label").innerHTML = DialText[3];
		document.getElementById("switch4Label").innerHTML = DialText[4];
		
		document.getElementById("switch5Label").innerHTML = DialText[5];
		document.getElementById("switch6Label").innerHTML = DialText[6];
		document.getElementById("switch7Label").innerHTML = DialText[7];
		document.getElementById("switch8Label").innerHTML = DialText[8];
		document.getElementById("switch9Label").innerHTML = DialText[9];
		
		document.getElementById("switch10Label").innerHTML = DialText[10];
		document.getElementById("switch11Label").innerHTML = DialText[11];
		document.getElementById("switch12Label").innerHTML = DialText[12];
		document.getElementById("switch13Label").innerHTML = DialText[13];
		document.getElementById("switch14Label").innerHTML = DialText[14];
		document.getElementById("switch15Label").innerHTML = DialText[15];

		document.getElementById("Switch0Name").value = DialText[0];
		document.getElementById("Switch1Name").value = DialText[1];
		document.getElementById("Switch2Name").value = DialText[2];
		document.getElementById("Switch3Name").value = DialText[3];
		document.getElementById("Switch4Name").value = DialText[4];
		
		document.getElementById("Switch5Name").value = DialText[5];
		document.getElementById("Switch6Name").value = DialText[6];
		document.getElementById("Switch7Name").value = DialText[7];
		document.getElementById("Switch8Name").value = DialText[8];
		document.getElementById("Switch9Name").value = DialText[9];
		
		document.getElementById("Switch10Name").value = DialText[10];
		document.getElementById("Switch11Name").value = DialText[11];
		document.getElementById("Switch12Name").value = DialText[12];
		document.getElementById("Switch13Name").value = DialText[13];		
		document.getElementById("Switch14Name").value = DialText[14];
		document.getElementById("Switch15Name").value = DialText[15];
		
		document.getElementById("ReportsID").options[0].text = DialText[0];
		document.getElementById("ReportsID").options[1].text = DialText[1];
		document.getElementById("ReportsID").options[2].text = DialText[2];
		document.getElementById("ReportsID").options[3].text = DialText[3];
		document.getElementById("ReportsID").options[4].text = DialText[4];
		
		document.getElementById("ReportsID").options[5].text = DialText[5];
		document.getElementById("ReportsID").options[6].text = DialText[6];
		document.getElementById("ReportsID").options[7].text = DialText[7];
		document.getElementById("ReportsID").options[8].text = DialText[8];
		document.getElementById("ReportsID").options[9].text = DialText[9];
		
		document.getElementById("ReportsID").options[10].text = DialText[10];
		document.getElementById("ReportsID").options[11].text = DialText[11];
		
		document.getElementById("ReportsID").options[12].text = DialText[12];
		document.getElementById("ReportsID").options[13].text = DialText[13];
		
		document.getElementById("ReportsID").options[14].text = DialText[14];
		document.getElementById("ReportsID").options[15].text = DialText[15];
		
		gSwitchInstance = DialPGNInstance[0];
		document.getElementById("PGNInstance").selectedIndex = gSwitchInstance;

		document.getElementById("ClockPGNInstance").selectedIndex = SystemClockPGNID;
		document.getElementById("ClockLcdColor").selectedIndex = ClockLCDColor;
		setClockLcdColor(ClockLCDColor);
		
		
			for(i=0; i<16; i++){
			$("input").eq(i).bootstrapSwitch('indeterminate',true);	
				gSwitchLockouts[i]=1;
			}

			
	/*		
	$('input[name="switch0"]').bootstrapSwitch('indeterminate',true);	
	$('input[name="switch1"]').bootstrapSwitch('indeterminate',true);
	$('input[name="switch2"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch3"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch4"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch5"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch6"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch7"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch8"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch9"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch10"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch11"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch12"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch13"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch14"]').bootstrapSwitch('indeterminate', true);
	$('input[name="switch15"]').bootstrapSwitch('indeterminate', true);
	*/
	
	
		gSwitchLockoutFlag = true;
		gSwitchLockoutDisable = true;
		
		 if(gDeviceKey !== "")
			InitalizeFirebase();
}

function UpdateLogAlert()
{
	if(gprefkey == 0)
	{
		AddNewPref();
	}
	else
	{
		ModifyPref();
	}
}

function handleGetDevicePramNames(response)
 {
 var index=0;
 
   	$.unblockUI();
   	
  		
	if(response.status != "error")
	{
		// get list of user parameters from the DB
   	    response.records.forEach(function(row){
   	      //document.getElementById("XMLFilesSelect").options[index++] = new Option(row[2],  row[0] );
				gprefkey = row[0];
				index++;
	   		});
	}

  // 	 if(gDeviceKey !== "")
	//	InitalizeFirebase();
		
    // load up user pameters from DB if there were any returned
    if(index > 0)        
	 	  getDeviceParamDetails(gUserID);
    else
    {
      InitalizePrefs();
    }
 
}

function handleGetDevicePramDetails(response)
 {
 var index=0;
 
   	$.unblockUI();
   	
	if(response.status == "error")
	{
		//InitalizePrefs();
		return;
	}

   	response.records.forEach(function(row){
   	
   		  // console.log(row);
   		   
  				//PageLayout   = row[5];
				//DialStart  =  parseInt(row[6]);
				//PageBackGroundColor  = "#" + row[7];
				//PageForeGroundColor  = "#" + row[8];
				ClockLCDColor   = row[9];
				SystemClockPGNID   = row[10];
				//UpdateInterval   = row[11];
				//DialTimeout   = row[12];
				
			    var myDialSettingsSubStrings = new Array();
		//alert('got a cookies');
		// parse the cookie string
		
		//myDialSettingsSubStrings= row[13].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialType[index]   =  parseInt(myDialSettingsSubStrings[index]);
				
		myDialSettingsSubStrings= row[14].split(",");
		for ( index=0; index< myDialSettingsSubStrings.length; index++ )
				DialPGNInstance[index]   =  parseInt(myDialSettingsSubStrings[index]);
				
		//myDialSettingsSubStrings= row[15].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPGNNumber[index]   = myDialSettingsSubStrings[index].replace(/\"/g, "");

		//myDialSettingsSubStrings= row[16].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPGNParameter[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[17].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialUnits[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[18].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialMin[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[19].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialMax[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[20].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialAlarm[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[21].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialAlarmState[index]   =  parseInt(myDialSettingsSubStrings[index]);
				
		myDialSettingsSubStrings= row[22].split(",");
		for ( index=0; index< myDialSettingsSubStrings.length; index++ )
				DialText[index]   = myDialSettingsSubStrings[index].replace(/\"/g, "");


		//myDialSettingsSubStrings= row[23].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialFrameType[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[24].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialBackground[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[25].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialLCDColor[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[26].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPointerColor[index]   =  parseInt(myDialSettingsSubStrings[index]);

		//myDialSettingsSubStrings= row[27].split(",");
		//for ( index=0; index< myDialSettingsSubStrings.length; index++ )
		//		DialPonterType[index]   =  parseInt(myDialSettingsSubStrings[index]);


   		   
	   		});
	   		gSwitchInstance =  DialPGNInstance[0];
	   		 ParameterInit = true;

 			InitalizePrefs();

 
}	
	
	
function handleAddNewPref(response)
 {
 var index=0;
       //document.getElementById("AddPreferenceName").value = "";
   	$.unblockUI();

}

function handleModifyPref(response)
 {
 var index=0;
 
   	$.unblockUI();

}


function handleDeletePref(response)
 {
 var index=0;
 
 	//nextConfigOption = document.getElementById("XMLFilesSelect").options.length -2;

 
 
   	$.unblockUI();
   	
   	//InitalizePageDials();
   	
	//ConfigOptions = 0;
	//getDeviceParamList(myuserid);

}	

function getDeviceParamList(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
   devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=pageprefnames&userid=" + gUserID + "&pagetype=6";
    
    
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleGetDevicePramNames(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                         // document.getElementById("SearchStatus").innerHTML = "Search Error";
		               		$.unblockUI();   
		            	} 
		 		  });


}	 
 function getDeviceParamDetails(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	var optionmenuindex=0;
	var prefkey;

   //optionmenuindex = document.getElementById("XMLFilesSelect").selectedIndex;
   //prefkey = parseInt(document.getElementById("XMLFilesSelect").options[optionmenuindex].value);
   
 
   devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=pageprefs&userid=" + gUserID + "&pagetype=6&prefkey=" + gprefkey;
         
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleGetDevicePramDetails(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                          document.getElementById("SearchStatus").innerHTML = "Search Error";
		                           ParameterInit = true;

		               		$.unblockUI();   
		            	} 
		 		  });


}	 


	
function AddNewPref()
{
 // Guests do not get to make changes
 if(gUserID == 0)
 return;
 
 
        $.blockUI({ 
     message: '<h1>Adding Preferences...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	var optionmenuindex;
	var nextConfigOption=0;
	     
    var optionmenuindex=0;
 
    var prefName = "SeaSmart Switch Prefs";

	//DialText[0] = document.getElementById("Dimmer0Name").value;
	//DialText[1] = document.getElementById("Dimmer1Name").value;
	//DialText[2] = document.getElementById("Dimmer2Name").value;
	//DialText[3] = document.getElementById("Dimmer3Name").value;
	//DialText[4] = document.getElementById("Dimmer4Name").value;
 
  devicedataurl = "https://www.helmsmart-cloud.com/prefs?type=add&userid=" + gUserID + "&pagetype=6&prefkey=" +  nextConfigOption + "&options="

  devicedataurl =  devicedataurl  + "'" + prefName + "'";
  devicedataurl =  devicedataurl + "," + PageLayout;
  devicedataurl =  devicedataurl + "," + DialStart ;
  devicedataurl =  devicedataurl + ",'" + PageBackGroundColor.replace("#", "") + "'";
  devicedataurl =  devicedataurl + ",'" + PageForeGroundColor.replace("#", "") + "'";
  devicedataurl =  devicedataurl + "," + ClockLCDColor ;
  devicedataurl =  devicedataurl + "," + SystemClockPGNID ;
  devicedataurl =  devicedataurl + "," + UpdateInterval ;
  devicedataurl =  devicedataurl + "," + DialTimeout ;
  devicedataurl =  devicedataurl + ",'" + DialType + "'";
  devicedataurl =  devicedataurl + ",'" + DialPGNInstance + "'";
  devicedataurl =  devicedataurl + ",'" + DialPGNNumber + "'";
  devicedataurl =  devicedataurl + ",'" + DialPGNParameter + "'";
  devicedataurl =  devicedataurl + ",'" + DialUnits + "'";
  devicedataurl =  devicedataurl + ",'" + DialMin + "'";
  devicedataurl =  devicedataurl + ",'" + DialMax + "'";
  devicedataurl =  devicedataurl + ",'" + DialAlarm + "'";
  devicedataurl =  devicedataurl + ",'" + DialAlarmState + "'";
  devicedataurl =  devicedataurl + ",'" + DialText + "'";
  devicedataurl =  devicedataurl + ",'" + DialFrameType + "'";
  devicedataurl =  devicedataurl + ",'" + DialBackground + "'";
  devicedataurl =  devicedataurl + ",'" + DialLCDColor + "'";
  devicedataurl =  devicedataurl + ",'" + DialPointerColor + "'";
  devicedataurl =  devicedataurl + ",'" + DialPonterType + "'";
  devicedataurl =  devicedataurl + ",0,0,0,0";
    
   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleAddNewPref(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                      //    document.getElementById("SearchStatus").innerHTML = "Pref Update Error";
		                          
		               		$.unblockUI();   
		            	} 
		 		  });





}

function ModifyPref()
{
 // Guests do not get to make changes
 if(gUserID == 0)
 return;
        $.blockUI({ 
     message: '<h1>Adding Preferences...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });

      var devicedataurl;
      var optionmenuindex=0;
     // var prefkey;
      var prefName = "SeaSmart Dimmer Prefs";

	//DialText[0] = document.getElementById("Dimmer0Name").value;
	//DialText[1] = document.getElementById("Dimmer1Name").value;
	//DialText[2] = document.getElementById("Dimmer2Name").value;
	//DialText[3] = document.getElementById("Dimmer3Name").value;
	//DialText[4] = document.getElementById("Dimmer4Name").value;
	
     // optionmenuindex = document.getElementById("XMLFilesSelect").selectedIndex;
     // prefkey = parseInt(document.getElementById("XMLFilesSelect").options[optionmenuindex].value);
     // prefName = document.getElementById("XMLFilesSelect").options[optionmenuindex].text;
	

      devicedataurl = "https://www.helmsmart-cloud.com/prefs?type=update&userid=" + gUserID + "&prefkey=" +  gprefkey + "&options="

      devicedataurl =  devicedataurl  + optionmenuindex;
      devicedataurl =  devicedataurl + ",'" + prefName + "'";
      devicedataurl =  devicedataurl + "," + PageLayout;
      devicedataurl =  devicedataurl + "," + DialStart ;
      devicedataurl =  devicedataurl + ",'" + PageBackGroundColor.replace("#", "") + "'";
      devicedataurl =  devicedataurl + ",'" + PageForeGroundColor.replace("#", "") + "'";
      devicedataurl =  devicedataurl + "," + ClockLCDColor ;
      devicedataurl =  devicedataurl + "," + SystemClockPGNID ;
      devicedataurl =  devicedataurl + "," + UpdateInterval ;
      devicedataurl =  devicedataurl + "," + DialTimeout ;
      devicedataurl =  devicedataurl + ",'" + DialType + "'";
      devicedataurl =  devicedataurl + ",'" + DialPGNInstance + "'";
      devicedataurl =  devicedataurl + ",'" + DialPGNNumber + "'";
      devicedataurl =  devicedataurl + ",'" + DialPGNParameter + "'";
      devicedataurl =  devicedataurl + ",'" + DialUnits + "'";
      devicedataurl =  devicedataurl + ",'" + DialMin + "'";
      devicedataurl =  devicedataurl + ",'" + DialMax + "'";
      devicedataurl =  devicedataurl + ",'" + DialAlarm + "'";
      devicedataurl =  devicedataurl + ",'" + DialAlarmState + "'";
      devicedataurl =  devicedataurl + ",'" + DialText + "'";
      devicedataurl =  devicedataurl + ",'" + DialFrameType + "'";
      devicedataurl =  devicedataurl + ",'" + DialBackground + "'";
      devicedataurl =  devicedataurl + ",'" + DialLCDColor + "'";
      devicedataurl =  devicedataurl + ",'" + DialPointerColor + "'";
      devicedataurl =  devicedataurl + ",'" + DialPonterType + "'";
      devicedataurl =  devicedataurl + ",0,0,0,0";

      return $.ajax({
      //async: false,
      cache: false,
      url: devicedataurl,
      dataType: "json",
      timeout: 10000,
      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleModifyPref(response)
      },
      complete: function() {
      // unblock when remote call returns
      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
      //   ShowGraphSmartChart(gindex);
      //$.unblockUI();
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Update Error";

      $.unblockUI();
      }
      });


}

function DeletePref()
{
      // Guests do not get to make changes
      if(gUserID == 0)
      return;
      $.blockUI({
      message: '<h1>Adding Preferences...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	//var optionmenuindex;
	//var prefkey;

  // optionmenuindex = document.getElementById("XMLFilesSelect").selectedIndex;
  // prefkey = parseInt(document.getElementById("XMLFilesSelect").options[optionmenuindex].value);

   devicedataurl = "https://www.helmsmart-cloud.com/prefs?type=delete&userid=" + gUserID + "&prefkey=" +  gprefkey ;

   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleDeletePref(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                    //   ShowGraphSmartChart(gindex);
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                      //    document.getElementById("SearchStatus").innerHTML = "Pref Delete Error";
		                          
		               		$.unblockUI();   
		            	} 
		 		  });


}	 
  
 function GetAlertEvents()
 {

 
 
 }
 
 
 function GetSeriesAttributes(userid)
{

      


 }
  
 function RegisterDevice()
{

    


} 
function handleSetHelmSmartSwitch(response)
 {
 var index=0;
      // document.getElementById("AddPreferenceName").value = "";
   	$.unblockUI();

}
function SetHelmSmartSwitch(switchInstance, switchid,switchvalue )
{

        $.blockUI({ 
     message: '<h1>Setting Switch...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;

   //devicedataurl = "https://www.helmsmart-cloud.com/sendswitchpgn?gettype=devices&switch=" + switchPGN;
   //devicedataurl = "https://www.helmsmart-cloud.com/sendswitchpgn?deviceid=001EC0B415BF&switch=" + switchPGN;
   //devicedataurl = "https://www.helmsmart-cloud.com/sendswitchpgn?deviceid=" + gDeviceKey + "&switch=" + switchPGN;
  		    var devicedataurl = "https://www.helmsmart-cloud.com/setswitchapi?deviceid=" + gDeviceKey;
			
			
				devicedataurl = devicedataurl + "&instance=" + switchInstance ;
				devicedataurl = devicedataurl + "&switchid=" + switchid ;
				devicedataurl = devicedataurl + "&switchvalue=" + switchvalue ; 

   return $.ajax({
					   //async: false,
					   cache: false,
					   url: devicedataurl,
					   dataType: "json",
					   timeout: 10000,
					   statusCode: {    
					   	404: function() {      alert( "page not found" );    }, 
					   	200: function() {      } 
					   	 },
					   success: function(response) {
					   		handleSetHelmSmartSwitch(response)
					   },
					   complete: function() {  
		                      // unblock when remote call returns 
		                      // document.getElementById("SearchStatus").innerHTML = "Search Complete";
		                 
		                	//$.unblockUI();   
		            	}, 
		            	error: function(request,status,errorThrown) {  
		                        //  document.getElementById("SearchStatus").innerHTML = "Search Error";
		               		$.unblockUI();   
		            	} 
		 		  });


}	 

 function GetReport()
{

   
	 var myEventIndex = document.getElementById("ReportsID").selectedIndex;

	  var myEventType = document.getElementById("ReportsID").options[myEventIndex].value
	 
	 



     $.blockUI({ 
     message: '<h1>Getting Report...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("ReportRollup").options[document.getElementById("ReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(1);
	}
	else if(myRollup == "2m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(2);
	}
	else if(myRollup == "3m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(3);
	}
	else if(myRollup == "4m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(4);
	}
	else if(myRollup == "5m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(5);
	}
	else if(myRollup == "6m")
	{
		var EndEpoch = new Date();
		var StartEpoch = new Date();
		var StartEpoch  = StartEpoch.subMonths(6);
	}
	else
	{
		var EndEpoch = new Date();
	
		var StartEpoch  = EndEpoch - (myRollup*60*1000);
	}
	
	EndEpoch = Math.floor(EndEpoch/1000);
	StartEpoch  = Math.floor(StartEpoch/1000);
	

	
	

	
	var myInterval = parseInt(document.getElementById("ReportInterval").options[document.getElementById("ReportInterval").selectedIndex].value) * 60;
	// EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
	//    StartEpoch = StartEpoch - (mytimeZoneOffset  * 60 );
  //StartEpoch = StartEpoch - 1262304000;
  
    //EndEpoch = EndEpoch - (mytimeZoneOffset  * 60 );
  //EndEpoch = EndEpoch -  1262304000;	


	
	var mySeriesKey =  makePGNfromEvent(myEventType, "*");


	  
	  
	  
	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

      var publictoken = "{{publictoken}}";
      myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

      myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "https://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


   //   devicedataurl = "https://www.helmsmart-cloud.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;

    //  devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=cace5b1ef7f39af021e9428cef3a6f54&serieskey=sensor:environmental_data.source:0F.instance:0.type:Outside Temperature.parameter:temperature.HelmSmart&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";
 
  //   devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";

    devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbydeviceid_idc?deviceid=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch + "&resolution=" + myInterval + "&format=json";

 // devicedataurl =  devicedataurl  + "&blwskey=" + document.getElementById("BLWSKeyInput").value ;
   // devicedataurl =  devicedataurl  + "&datapaneid=" + myuserKey ;


      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 10000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleGetReport(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


} 


  
function GetGeoReport()
{

    // var myEventType = document.getElementById("ReportsID").options[document.getElementById("ReportsID").selectedIndex].value
	// var myEventIndex = document.getElementById("ReportsID").selectedIndex;
	// var myEventType = myEventTag[myEventIndex];
	 
	 
	 
	// if(myEventType == "None")
	// {
	//	 alert('No Event selected');
	//	 return;
	 
	// }


     $.blockUI({ 
     message: '<h1>Getting Geo Report...</h1>',
      css: {
      border: 'none',
      padding: '15px',
      backgroundColor: '#000',

      '-webkit-border-radius': '10px',
      '-moz-border-radius': '10px',
      opacity: .5,
      color: '#fff'
      } });
	  
	  //"2015-03-27 00:00"
	  var myStartTime = document.getElementById("GeoReportStart").value;
	  
	  var parts = myStartTime.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2})/);
	  //return Date.UTC(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  var myStartEpoch = new Date(+parts[1], parts[2]-1, +parts[3], +parts[4], +parts[5]);
	  myStartEpoch = myStartEpoch.getTime();
	  
	 var EndEpoch = new Date();
	var StartEpoch = new Date();
	//// var StartEpoch = new Date(myStartTimeStr + " GMT" );
   // StartEpoch = StartEpoch .getTime();

   // var EndEpoch = new Date(myEndTimeStr + " GMT" );
   // EndEpoch = EndEpoch .getTime();
    var myRollup = document.getElementById("GeoReportRollup").options[document.getElementById("GeoReportRollup").selectedIndex].value;  
	
   	if(myRollup == "1m")
	{
		StartEpoch  = StartEpoch.subMonths(1);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(1);
		}
		
		
	}
	else if(myRollup == "2m")
	{		
		StartEpoch  = StartEpoch.subMonths(2);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(2);
		}
		
	}
	else if(myRollup == "3m")
	{
		StartEpoch  = StartEpoch.subMonths(3);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(3);
		}

	}
	else if(myRollup == "4m")
	{
		StartEpoch  = StartEpoch.subMonths(4);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(4);
		}
	}
	else if(myRollup == "5m")
	{
		StartEpoch  = StartEpoch.subMonths(5);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(5);
		}

	}
	else if(myRollup == "6m")
	{
		StartEpoch  = StartEpoch.subMonths(6);
		// convert date to msec and compare
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch  = EndEpoch.addMonths(6);
		}

	}
	else
	{
		//var EndEpoch = new Date();
	
	   // StartEpoch  = EndEpoch - (myRollup*60*1000);
		StartEpoch.setSeconds(StartEpoch.getSeconds() - (myRollup*60));
		
		if(myStartEpoch < StartEpoch.getTime())
		{
			StartEpoch = new Date(myStartEpoch);
			EndEpoch = new Date(myStartEpoch);
			EndEpoch.setSeconds(EndEpoch.getSeconds() + (myRollup*60));
		}
	}
	
	var now = new Date();
	if(EndEpoch > now)
		EndEpoch = now;
	
	EndEpoch = Math.floor(EndEpoch.getTime()/1000);
	StartEpoch  = Math.floor(StartEpoch.getTime()/1000);
	
	
	
	

	
	var myInterval = parseInt(document.getElementById("GeoReportInterval").options[document.getElementById("GeoReportInterval").selectedIndex].value) * 60;
	// EndEpoch = (new Date).getTime();
	//StartEpoch =(new Date).getTime();
	//    StartEpoch = StartEpoch - (mytimeZoneOffset  * 60 );
  //StartEpoch = StartEpoch - 1262304000;
  
    //EndEpoch = EndEpoch - (mytimeZoneOffset  * 60 );
  //EndEpoch = EndEpoch -  1262304000;	


	


//	var mySeriesKey =  makePGNfromEvent(myEventType, "*");
	  
	  
	  
//	  timezoneOffset = parseInt(document.getElementById("TimeZoneId").options[document.getElementById("TimeZoneId").selectedIndex].value) * 60;

      var devicedataurl;
      var myuserKey;

    //  var publictoken = "{{publictoken}}";
    //  myuserKey = "{{userKey}}";

      //myDeviceKey = document.getElementById("DeviceKey").value;
	  myDeviceKey = gDeviceKey;

    //  myDeviceName = document.getElementById("DeviceTypeID").options[document.getElementById("DeviceTypeID").selectedIndex].value;
     // myTextArray = myDeviceName.split(":");

      // devicedataurl = "https://www.boatlogger.com/Account/ActivateDevice?deviceId=a5069b96637473d7701fa11eb9baad3d&deviceType=SeaSmart_lite" ;


   //   devicedataurl = "https://www.helmsmart-cloud.com/boatlogger_regtracker?publickey=" + publictoken  + '&userkey=' + myuserKey + '&deviceid=' + myDeviceKey + '&devicename=' + myDeviceName ;

    //  devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=cace5b1ef7f39af021e9428cef3a6f54&serieskey=sensor:environmental_data.source:0F.instance:0.type:Outside Temperature.parameter:temperature.HelmSmart&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";
 
  //   devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbykey?devicekey=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=1429291080&endepoch=1429292980&resolution=300&format=json";

  //  devicedataurl = "https://www.helmsmart-cloud.com/getseriesstatsbydeviceid?deviceid=" + myDeviceKey + "&serieskey=" + mySeriesKey + "&startepoch=" + StartEpoch + "&endepoch=" + EndEpoch + "&resolution=" + myInterval + "&format=json";

	GPSSource = "0F";
	
    devicedataurl = "https://www.helmsmart-cloud.com/getgpsseriesbydeviceid?";
    devicedataurl =  devicedataurl + "deviceid=" + myDeviceKey + "&startepoch=" + StartEpoch  + "&endepoch=" + EndEpoch +  "&resolution=" + myInterval;
    devicedataurl =  devicedataurl + "&serieskey1=" + "deviceid:" + myDeviceKey +".sensor:position_rapid.source:" + GPSSource + ".instance:0.type:NULL.parameter:latlng.HelmSmart"; ;
 
	devicedataurl =  devicedataurl + "&format=json"  ;
	//devicedataurl =  devicedataurl + "&max=" + document.getElementById("GPSLimit").options[document.getElementById("GPSLimit").selectedIndex].value; 
	devicedataurl =  devicedataurl + "&max=1000000" ; 

      return $.ajax({
      //async: false,
      cache: false,
      crossDomain: true,
      processData: false,
      type: "GET",
      url: devicedataurl,
      dataType: "json",
      timeout: 10000,
      xhrFields: {
      withCredentials: true
      },

      statusCode: {
      404: function() {      alert( "page not found" );    },
      200: function() {      }
      },
      success: function(response) {
      handleGetGeoReport(response)
      },
      complete: function(response) {
      // unblock when remote call returns
     // handleRegisterDevice(response)
      },
      error: function(request,status,errorThrown) {
      //document.getElementById("SearchStatus").innerHTML = "Pref Add Error";

      $.unblockUI();
      }
      });


}   
  
  
  
  
  
  
  
function getDeviceList(userid)
{

        $.blockUI({ 
     message: '<h1>Search in progress...</h1>',    
     css: {             
     border: 'none',             
     padding: '15px',             
     backgroundColor: '#000', 
        
     '-webkit-border-radius': '10px',             
     '-moz-border-radius': '10px',             
     opacity: .5,             
     color: '#fff'         
     } }); 

	var devicedataurl;
	
    devicedataurl = "https://www.helmsmart-cloud.com/getuser?gettype=devices&userid=" + userid;

    return $.ajax({
    //async: false,
    cache: false,
    url: devicedataurl,
    dataType: "json",
    timeout: 10000,
    statusCode: {
    404: function() {      alert( "page not found" );    },
    200: function() {      }
    },
    success: function(response) {
    handleGetDeviceData(response)
    },
    complete: function() {
    // unblock when remote call returns
    // document.getElementById("SearchStatus").innerHTML = "Search Complete";
    //   ShowGraphSmartChart(gindex);
    //$.unblockUI();
    },
    error: function(request,status,errorThrown) {
    //document.getElementById("SearchStatus").innerHTML = "Search Error";
    $.unblockUI();
    }
    });


}


  
</script>

</head>
<body>
	<div class="container body-content">
		

<p id="introText">With this data pane you can configure, control and monitor your netGauges Dimmer device.</p>
<div id="idMarketing">
	<img src="static/img/SSWIFIPRO200W.jpg" style="float: right; margin: 5px;" onclick="window.open('https://www.seasmart.net/marine-wireless-networking-wifipro.html', '_blank');" />

<p>Remote control of up to five separate DC circuits is now possible using any Web Browser device over existing internet services. Each LED dimmer is rated at 8 amps @ 12-14 VDC. Can provide flicker-free 96W for LED strip lights. Low Power and energy saving PWM technology.</p>
	<p>The <span class="SeaSmart">netGauges Dimmer</span> is however much more than a LED driver. The standard functions include:</p>
	<ul>
		<li>Can be controlled using local WiFi network only</li>
		<li>Built-in Web Server with embedded user interface eliminates any set-up</li>
		<li>Uses you existing internet service</li>
		<li>Can also be controlled remotely from any location with internet access</li>
		<li>Automatically logs each dimmer setting</li>
		<li>Cloud-base storage and reporting of dimmer status</li>
		<li>No additional data plan charges</li>
		<li>Optional source input Voltage monitor</li>
		<li>Optional GPS input for Geo Location</li>
<li>Weather-resist enclosure for outdoor use</li>
		
	</ul>
	<p>Built-in data logger to SD memory</p>
	<ul>
		<li>Records everything when dimmer is out of range</li>
		<li>Up to a full year of storage</li>
		<li>Automatically syncs to Cloud storage site when internet service is found</li>
		<li>Cloud base storage and access from the HelmSmart data server</li>
		</ul>
	<p>Add more netGauges sensors</p>
	<ul>		
		<li>Install additional temperature sensors to monitor room temperature.</li>
<li>Optional Power Monitoring inputs for real-time and historical cost tracking</li>
		<li>Optional GPS input for asset tracking and mobile platforms</li>
	</ul>
	<p>All dimmers are constantly monitored and automatically uploaded to Cloud Service sites for 24/7 access to status, control, and reporting. View graphs for historical use and get alarms via email or SMS when thresholds are reached</p>
	<p>Download the data sheet to learn more or order your <span class="SeaSmartPro">netGauges Dimmer</span> directly here. Worldwide shipping is included in the <em>495 USD</em> price.</p>
	<div style="margin: 15px;">
		<button id='downloadDatasheet' type="button" class="btn btn-primary" onclick="window.open('https://www.seasmart.net/pdf/SSWiFiPro.pdf', '_blank');">Datasheet</button>
<!--	<button id='orderNow' type="button" class="btn btn-primary" style="margin-left: 30px;" onclick="location.href=window.location.protocol + '//' + window.location.host + '/Order';return false;">Order Now</button>-->
		<button id='orderNow' type="button" class="btn btn-primary" style="margin-left: 30px;" onclick="window.open('https://www.seasmart.net/marine-wireless-networking-wifipro.html', '_blank');">Order Now</button>

	</div>
	<p>
	If you already have a netGauges Dimmer go to the Devices Link above and select your registered unit to activate remote control.
	</p>


</div>


	</div>

	<script>
		$(function () { $("[data-toggle='tooltip']").tooltip(); });
	</script>


</body>

</html>


	</div>

<!-- Tab pane -->
<div class="tab-pane" id="tabLive">
		
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }



</style>		
		
		<form action="/TrackerDatapane/SettingsBasic" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabDimmers" id="form0" method="post">
		<div class="form-horizontal">

		<!--
				<div class="form-group">
			
			<label class="control-label col-sm-2" for=dimmer0>Dimmer 0</label>

			<input class="form-control" type=range min=0 max=100 value=0 id=dimmer0 step=1 onchange="outputUpdate0(value)" style="width: 320px; height: 30px">

			<output for=dimmer0 id=dimmer0value>0</output>
	
			
		</div>

		<div class="form-group">
			
			<label class="control-label col-sm-2" for=dimmer1>Dimmer 1</label>

			<input class="form-control" type=range min=0 max=100 value=0 id=dimmer1 step=1 onchange="outputUpdate1(value)" style="width: 320px; height: 30px">

			<output for=dimmer1 id=dimmer1value>0</output>
	
			
		</div>
		
		<div class="form-group">
			
			<label class="control-label col-sm-2" for=dimmer2>Dimmer 2</label>

			<input class="form-control" type=range min=0 max=100 value=0 id=dimmer2 step=1 onchange="outputUpdate2(value)" style="width: 320px; height: 30px">

			<output for=dimmer1 id=dimmer2value>0</output>
	
			
		</div>
		
		<div class="form-group">
			
			<label class="control-label col-sm-2" for=dimmer3>Dimmer 3</label>

			<input class="form-control" type=range min=0 max=100 value=0 id=dimmer3 step=1 onchange="outputUpdate3(value)" style="width: 320px; height: 30px">

			<output for=dimmer1 id=dimmer3value>0</output>
	
			
		</div>
		
		<div class="form-group">
			
			<label class="control-label col-sm-2" for=dimmer4>Dimmer 4</label>

			<input class="form-control" type=range min=0 max=100 value=0 id=dimmer4 step=1 onchange="outputUpdate4(value)" style="width: 320px; height: 30px">

			<output for=dimmer1 id=dimmer4value>0</output>
	
			
		</div>
		-->
		
		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch0Label for=switch0>Switch 0</label>
		<input type="checkbox" id=switch0 name="switch0" checked>
		</div>
		
		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch1Label for=switch1>Switch 1</label>
		<input type="checkbox" id=switch1 name="switch1" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch2Label for=switch2>Switch 2</label>
		<input type="checkbox" id=switch2 name="switch2" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch3Label for=switch3>Switch 3</label>
		<input type="checkbox" id=switch3 name="switch3" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch4Label for=switch4>Switch 4</label>
		<input type="checkbox" id=switch4 name="switch4" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch5Label for=switch5>Switch 5</label>
		<input type="checkbox" id=switch5 name="switch5" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch6Label for=switch6>Switch 6</label>
		<input type="checkbox" id=switch6 name="switch6" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch7Label for=switch7>Switch 7</label>
		<input type="checkbox" id=switch7 name="switch7" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch8Label for=switch8>Switch 8</label>
		<input type="checkbox" id=switch8 name="switch8" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch9Label for=switch9>Switch 9</label>
		<input type="checkbox" id=switch9 name="switch9" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch10Label for=switch10>Switch 10</label>
		<input type="checkbox" id=switch10 name="switch10" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch11Label for=switch11>Switch 11</label>
		<input type="checkbox" id=switch11 name="switch11" checked>
		</div>		
		
			<div class="form-group">
		<label class="control-label col-sm-2"  id=switch12Label for=switch12>Switch 12</label>
		<input type="checkbox" id=switch12 name="switch12" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch13Label for=switch13>Switch 13</label>
		<input type="checkbox" id=switch13 name="switch13" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch14Label for=switch14>Switch 14</label>
		<input type="checkbox" id=switch14 name="switch14" checked>
		</div>

		<div class="form-group">
		<label class="control-label col-sm-2"  id=switch15Label for=switch15>Switch 15</label>
		<input type="checkbox" id=switch15 name="switch15" checked>
		</div>		
		
		<div class="form-group">	
		<!-- <label class="control-label col-sm-1" for=canvasClock>&nbsp;</label> -->
			 <div class="col-sm-6"> 
					<canvas id="canvasClock"  width="201" height="80"></canvas>
			</div>
		</div>  
		
		
		
		</div>
		
		</form>
		
			<script>
		$(function () { $("[name='switch0']").bootstrapSwitch(); });
		$(function () { $("[name='switch1']").bootstrapSwitch(); });
		$(function () { $("[name='switch2']").bootstrapSwitch(); });
		$(function () { $("[name='switch3']").bootstrapSwitch(); });
		$(function () { $("[name='switch4']").bootstrapSwitch(); });
		$(function () { $("[name='switch5']").bootstrapSwitch(); });
		$(function () { $("[name='switch6']").bootstrapSwitch(); });
		$(function () { $("[name='switch7']").bootstrapSwitch(); });
		$(function () { $("[name='switch8']").bootstrapSwitch(); });
		$(function () { $("[name='switch9']").bootstrapSwitch(); });
		$(function () { $("[name='switch10']").bootstrapSwitch(); });
		$(function () { $("[name='switch11']").bootstrapSwitch(); });
		
		$(function () { $("[name='switch12']").bootstrapSwitch(); });
		$(function () { $("[name='switch13']").bootstrapSwitch(); });
		$(function () { $("[name='switch14']").bootstrapSwitch(); });
		$(function () { $("[name='switch15']").bootstrapSwitch(); });
		
		
		
	
		/*
		for(i=0; i<16; i++)
		{
		
			$('input[name="switch0"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(i, state); });
		
		
			//$("input").eq(i).on('switchChange.bootstrapSwitch', function(event, state) {
			// updateSwitch(i, state); });
		
		}
		*/
		
		
		$('input[name="switch0"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(0, state); });
			 
		$('input[name="switch1"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(1, state); });

		$('input[name="switch2"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(2, state); });

		$('input[name="switch3"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(3, state); });

		$('input[name="switch4"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(4, state); });

		$('input[name="switch5"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(5, state); });

		$('input[name="switch6"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(6, state); });

		$('input[name="switch7"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(7, state); });

		$('input[name="switch8"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(8, state); });

		$('input[name="switch9"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(9, state); });

		$('input[name="switch10"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(10, state); });

		$('input[name="switch11"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(11, state); });			 
			 
		$('input[name="switch12"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(12, state); });

		$('input[name="switch13"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(13, state); });

		$('input[name="switch14"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(14, state); });

		$('input[name="switch15"]').on('switchChange.bootstrapSwitch', function(event, state) {
			 updateSwitch(15, state); });	
			 
		$("[name='switch0']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch1']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch2']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch3']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch4']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch5']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch6']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch7']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch8']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch9']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch10']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch11']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch12']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch13']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch14']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	

		$("[name='switch15']").bootstrapSwitch({
		onSwitchChange: function(e) {
			if( gSwitchLockoutFlag ) {
			e.preventDefault();
		   // or - equivalently
		   return false;
			}
			}
		});	




	</script>
		
		
</div>

<div class='tab-pane' id="tabDimmers">
			
<form action="/TrackerDatapane/SettingsBasic" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabDimmers" id="form0" method="post">	<div class="form-horizontal">
		
		<!--
	<p id="introText">By registering your SeaSmart gateway with BoatLogger - live vessel data can be automatically added to your log book and displayed in custom data boards</p>
    <p id="introText">Please enter account info to link you HelmSmart Telemetry Board to Data Pane ID = {{ userKey }} </p>
    <p id="introText">token = {{ publictoken }} </p>
-->

<div class="form-group">
			<label class="control-label col-sm-2" for="DeviceTypeID">Device Type</label>
			<div class="col-sm-4">
				<select class="form-control" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="DeviceTypeID" name="DeviceTypeID"   onchange="ChangedDeviceTypeID(this);"  >
				<option value="000000000000">0000000000000:Demo</option>

			</select>
				<span class="field-validation-valid text-danger" data-valmsg-for="TrackerTypeID" data-valmsg-replace="true"></span>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label col-sm-2" for="DeviceKey">Device Key</label>
			<div class="col-sm-4">
				<input class="form-control text-box single-line" data-val="true" data-val-length="The Device Key must be a string with a length of 32 ." data-val-length-max="15" data-val-length-min="32" data-val-required="The Device Key field is required." id="DeviceKey" name="DeviceKey" placeholder="Key is 32 characters" type="text" value="" onchange="ChangedDeviceKey();" readonly />
				<span class="field-validation-valid text-danger" data-valmsg-for="DeviceKey" data-valmsg-replace="true"></span>
			</div>
		</div>
		
		<div class="form-group">
			<label class="control-label col-sm-2" for="TimeZoneId">Time zone</label>
			<div class="col-sm-6">
				
					<select class="form-control" id="TimeZoneId" name="TimeZoneId" style="" onchange="ChangedTimeZone(this);"><option value="-720">(UTC-12:00) International Date Line West</option>
					<option value="-660">(UTC-11:00) Coordinated Universal Time-11</option>
					<option value="-600">(UTC-10:00) Hawaii</option>
					<option value="-540">(UTC-09:00) Alaska</option>
					<option value="-480">(UTC-08:00) Baja California</option>
					<option value="-480">(UTC-08:00) Pacific Time (US &amp; Canada)</option>
					<option value="-420">(UTC-07:00) Arizona</option>
					<option value="-420">(UTC-07:00) Chihuahua, La Paz, Mazatlan</option>
					<option value="-420">(UTC-07:00) Mountain Time (US &amp; Canada)</option>
					<option value="-360">(UTC-06:00) Central America</option>
					<option value="-360">(UTC-06:00) Central Time (US &amp; Canada)</option>
					<option value="-360">(UTC-06:00) Guadalajara, Mexico City, Monterrey</option>
					<option value="-360">(UTC-06:00) Saskatchewan</option>
					<option value="-300">(UTC-05:00) Bogota, Lima, Quito, Rio Branco</option>
					<option value="-300">(UTC-05:00) Eastern Time (US &amp; Canada)</option>
					<option value="-300">(UTC-05:00) Indiana (East)</option>
					<option value="-270">(UTC-04:30) Caracas</option>
					<option value="-240">(UTC-04:00) Asuncion</option>
					<option value="-240">(UTC-04:00) Atlantic Time (Canada)</option>
					<option value="-240">(UTC-04:00) Cuiaba</option>
					<option value="-240">(UTC-04:00) Georgetown, La Paz, Manaus, San Juan</option>
					<option value="-240">(UTC-04:00) Santiago</option>
					<option value="-210">(UTC-03:30) Newfoundland</option>
					<option value="-180">(UTC-03:00) Brasilia</option>
					<option value="-180">(UTC-03:00) Buenos Aires</option>
					<option value="-180">(UTC-03:00) Cayenne, Fortaleza</option>
					<option value="-180">(UTC-03:00) Greenland</option>
					<option value="-180">(UTC-03:00) Montevideo</option>
					<option value="-180">(UTC-03:00) Salvador</option>
					<option value="-120">(UTC-02:00) Coordinated Universal Time-02</option>
					<option value="-120">(UTC-02:00) Mid-Atlantic - Old</option>
					<option value="-60">(UTC-01:00) Azores</option>
					<option value="-60">(UTC-01:00) Cape Verde Is.</option>
					<option value="0">(UTC) Casablanca</option>
					<option selected="selected" value="-0">(LOCAL) Local Time</option>
					<option value="0">(UTC) Coordinated Universal Time</option>
					<option value="0">(UTC) Dublin, Edinburgh, Lisbon, London</option>
					<option value="0">(UTC) Monrovia, Reykjavik</option>
					<option value="60">(UTC+01:00) Amsterdam, Berlin, Bern, Rome, Stockholm, Vienna</option>
					<option value="60">(UTC+01:00) Belgrade, Bratislava, Budapest, Ljubljana, Prague</option>
					<option value="60">(UTC+01:00) Brussels, Copenhagen, Madrid, Paris</option>
					<option value="60">(UTC+01:00) Sarajevo, Skopje, Warsaw, Zagreb</option>
					<option value="60">(UTC+01:00) West Central Africa</option>
					<option value="60">(UTC+01:00) Windhoek</option>
					<option value="120">(UTC+02:00) Amman</option>
					<option value="120">(UTC+02:00) Athens, Bucharest</option>
					<option value="120">(UTC+02:00) Beirut</option>
					<option value="120">(UTC+02:00) Cairo</option>
					<option value="120">(UTC+02:00) Damascus</option>
					<option value="120">(UTC+02:00) E. Europe</option>
					<option value="120">(UTC+02:00) Harare, Pretoria</option>
					<option value="120">(UTC+02:00) Helsinki, Kyiv, Riga, Sofia, Tallinn, Vilnius</option>
					<option value="120">(UTC+02:00) Istanbul</option>
					<option value="120">(UTC+02:00) Jerusalem</option>
					<option value="120">(UTC+02:00) Tripoli</option>
					<option value="180">(UTC+03:00) Baghdad</option>
					<option value="180">(UTC+03:00) Kaliningrad, Minsk</option>
					<option value="180">(UTC+03:00) Kuwait, Riyadh</option>
					<option value="180">(UTC+03:00) Nairobi</option>
					<option value="210">(UTC+03:30) Tehran</option>
					<option value="240">(UTC+04:00) Abu Dhabi, Muscat</option>
					<option value="240">(UTC+04:00) Baku</option>
					<option value="240">(UTC+04:00) Moscow, St. Petersburg, Volgograd</option>
					<option value="240">(UTC+04:00) Port Louis</option>
					<option value="240">(UTC+04:00) Tbilisi</option>
					<option value="240">(UTC+04:00) Yerevan</option>
					<option value="240">(UTC+04:30) Kabul</option>
					<option value="300">(UTC+05:00) Ashgabat, Tashkent</option>
					<option value="300">(UTC+05:00) Islamabad, Karachi</option>
					<option value="330">(UTC+05:30) Chennai, Kolkata, Mumbai, New Delhi</option>
					<option value="330">(UTC+05:30) Sri Jayawardenepura</option>
					<option value="345">(UTC+05:45) Kathmandu</option>
					<option value="360">(UTC+06:00) Astana</option>
					<option value="360">(UTC+06:00) Dhaka</option>
					<option value="360">(UTC+06:00) Ekaterinburg</option>
					<option value="390">(UTC+06:30) Yangon (Rangoon)</option>
					<option value="420">(UTC+07:00) Bangkok, Hanoi, Jakarta</option>
					<option value="420">(UTC+07:00) Novosibirsk</option>
					<option value="480">(UTC+08:00) Beijing, Chongqing, Hong Kong, Urumqi</option>
					<option value="480">(UTC+08:00) Krasnoyarsk</option>
					<option value="480">(UTC+08:00) Kuala Lumpur, Singapore</option>
					<option value="480">(UTC+08:00) Perth</option>
					<option value="480">(UTC+08:00) Taipei</option>
					<option value="480">(UTC+08:00) Ulaanbaatar</option>
					<option value="540">(UTC+09:00) Irkutsk</option>
					<option value="540">(UTC+09:00) Osaka, Sapporo, Tokyo</option>
					<option value="540">(UTC+09:00) Seoul</option>
					<option value="540">(UTC+09:30) Adelaide</option>
					<option value="540">(UTC+09:30) Darwin</option>
					<option value="600">(UTC+10:00) Brisbane</option>
					<option value="600">(UTC+10:00) Canberra, Melbourne, Sydney</option>
					<option value="600">(UTC+10:00) Guam, Port Moresby</option>
					<option value="600">(UTC+10:00) Hobart</option>
					<option value="600">(UTC+10:00) Yakutsk</option>
					<option value="660">(UTC+11:00) Solomon Is., New Caledonia</option>
					<option value="660">(UTC+11:00) Vladivostok</option>
					<option value="720">(UTC+12:00) Auckland, Wellington</option>
					<option value="720">(UTC+12:00) Coordinated Universal Time+12</option>
					<option value="720">(UTC+12:00) Fiji</option>
					<option value="720">(UTC+12:00) Magadan</option>
					<option value="720">(UTC+12:00) Petropavlovsk-Kamchatsky - Old</option>
					<option value="780">(UTC+13:00) Nuku&#39;alofa</option>
					<option value="780">(UTC+13:00) Samoa</option>
					<option value="840">(UTC+14:00) Kiritimati Island</option>
					</select>
					<span class="field-validation-valid" data-valmsg-for="TimeZoneId" data-valmsg-replace="true"></span>
			</div>
		</div>
		



	</div>
	<script>

		//$('#btnSettingsBasicSave').click(function () {
		//	$('#btnSettingsBasicSave').attr("disabled", true);
		//	$('#btnSettingsBasicSave').parents('form').submit()
		//});
	
	</script>
</form>
		</div>
<!-- Events TAB> ###################################################   -->		
		
		<div class="tab-pane" id="tabPrefs">
		

			
<form action="/TrackerDatapane/SettingsEvents" data-ajax="true" data-ajax-mode="replace" data-ajax-update="#tabPrefs" id="form1" method="post">	
	<div class="form-horizontal">


		
			<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch0Name">Switch 0</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch0Name" placeholder="Switch_0" onchange="changedSwitch0();">	
			</div>
		</div>  
		
		
						<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch1Name">Switch 1</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch1Name" placeholder="Switch_1" onchange="changedSwitch1();">	
			</div>
		</div>  
		
							<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch2Name">Switch 2</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch2Name" placeholder="Switch_2" onchange="changedSwitch2();">	
			</div>
		</div>  
		
		
					<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch3Name">Switch 3</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch3Name" placeholder="Switch_3" onchange="changedSwitch3();">	
			</div>
		</div>  
		
						<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch4Name">Switch 4</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch4Name" placeholder="Switch_4" onchange="changedSwitch4();">	
			</div>
		</div>  
		
			
		
						<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch5Name">Switch 5</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch5Name" placeholder="Switch_5" onchange="changedSwitch5();">	
			</div>
		</div>  
		
							<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch6Name">Switch 6</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch6Name" placeholder="Switch_6" onchange="changedSwitch6();">	
			</div>
		</div>  
		
		
					<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch7Name">Switch 7</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch7Name" placeholder="Switch_7" onchange="changedSwitch7();">	
			</div>
		</div>  
		
						<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch8Name">Switch 8</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch8Name" placeholder="Switch_8" onchange="changedSwitch8();">	
			</div>
		</div>  	

		<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch9Name">Switch 9</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch9Name" placeholder="Switch_9" onchange="changedSwitch9();">	
			</div>
		</div>  
		
		<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch10Name">Switch 10</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch10Name" placeholder="Switch_10" onchange="changedSwitch10();">	
			</div>
		</div>  
		
		
		<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch11Name">Switch 11</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch11Name" placeholder="Switch_11" onchange="changedSwitch11();">	
			</div>
		</div>  
		
				<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch12Name">Switch 12</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch12Name" placeholder="Switch_12" onchange="changedSwitch12();">	
			</div>
		</div>  
		
		
		<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch13Name">Switch 13</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch13Name" placeholder="Switch_13" onchange="changedSwitch13();">	
			</div>
		</div>  
		
				<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch14Name">Switch 14</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch14Name" placeholder="Switch_14" onchange="changedSwitch14();">	
			</div>
		</div>  
		
		
		<div class="form-group">	
			 <label class="control-label col-sm-2" for="Switch15Name">Switch 15</label> 
			 <div class="col-sm-6"> 
			<input type="text" class="form-control" id="Switch15Name" placeholder="Switch_15" onchange="changedSwitch15();">	
			</div>
		</div>  
		
		
		
			<div class="form-group">	
			 <label class="control-label col-sm-2" for="PGNInstance">Instance</label>
			 <div class="col-sm-6">
			<select class="form-control" id="PGNInstance"  onchange="SetPGNInstance(this);" name="D3" >
			  <option value="0">0</option>
			  <option value="1">1</option>
			  <option value="2">2</option>
			  <option value="3">3</option>
			  <option value="4">4</option>
			  <option value="5">5</option>
			  <option value="6">6</option>
			  <option value="7">7</option>
			  <option value="8">8</option>
			  <option value="9">9</option>
			  <option value="10">10</option>
			  <option value="11">11</option>
			  <option value="12">12</option>
			  <option value="13">13</option>
			  <option value="14">14</option>
			  <option value="15">15</option>
	
				</select></div>
				</div> 
		
		
			<div class="form-group">	
			
			 <label class="control-label col-sm-2" for="ClockPGNInstance">Clock Source</label>
			 
			 <div class="col-sm-6">
				<select class="form-control" id="ClockPGNInstance"  onchange="SetClockPGNInstance(this);" name="D3" >
				  <option value="0">GPS</option>
				  <option value="1">GLONASS</option>
				  <option value="2">Radio Station</option>
				  <option value="3">Cesium clock</option>
				  <option value="4">Rubidium clock</option>
				  <option value="5">Crystal clock</option>
				  <option value="6">SeaGauge</option>
				  <option value="7">GNSS</option>
				  <option value="8">HelmSmart</option>
				  <option value="9">SeaSmart RTC</option>
				</select></div>
				</div> 
				
				<div class="form-group">	
				
				 <label class="control-label col-sm-2" for="ClockLcdColor">Clock Color</label>
				 
				<div class="col-sm-6">
				<select class="form-control" id="ClockLcdColor" onchange="selectClockLcdColor(this);" name="D2">   
                    <option value="BEIGE">Beige</option>
                    <option value="BLUE">Blue</option>
                    <option value="ORANGE">Orange</option>
                    <option value="RED">Red</option>
                    <option value="YELLOW">Yellow</option>
                    <option value="WHITE">White</option>
                    <option value="GRAY">Gray</option>
                    <option value="BLACK">Black</option>
                    <option value="GREEN">Green</option>
                    <option value="BLUE2">Blue2</option>
                    <option value="BLUE_BLACK">BlueBlack</option>
                    <option value="BLUE_DARKBLUE">BlueDarkBlue</option>
                    <option value="BLUE_GRAY">BlueGray</option>
                    <option value="STANDARD">Standard</option>
                    <option value="STANDARD_GREEN">StandardGreen</option>
                    <option value="BLUE_BLUE">BlueBlue</option>
                    <option value="RED_DARKRED">RedDarkRed</option>
                    <option value="DARKBLUE">DarkBlue</option>
                    <option value="LILA">Lila</option>
                    <option value="BLACKRED">BlackRed</option>
                    <option value="DARKGREEN">DarkGreen</option>
                    <option value="AMBER">Amber</option>
                    <option value="LIGHTBLUE">LightBlue</option>
                    <option value="SECTIONS">Sections</option>
                    </select></div>
		
		</div> 
		
				<div class="form-group" style="margin-top:25px;">
				
			<div class="col-sm-offset-4 col-sm-4">
				<button id="btnSettingsEventSave" name="btnValue" value="Save" class="btn btn-primary" onclick="UpdateLogAlert();">Save</button>
				<button id="btnSettingsEventDelete" name="btnValue" value="Delete" class="btn btn-primary" onclick="DeleteAlert();">Delete</button>
				<button name="btnValue" value="Cancel" class="btn btn-default cancel">Cancel</button>
			
			</div>
		</div>
		
		
		</div>
</form>
		</div>
		
<!-- Trigger TAB> ###################################################   -->		
		
		<div class="tab-pane" id="tabTriggers">
		</div>	

<!-- GEOFENCE TAB> ###################################################   -->
		<div class="tab-pane" id="tabGeoFence">
		

	</div>

<!-- Report TAB> ###################################################   -->
	<div class="tab-pane" id="tabGeoFenceReport">
		<div class="form-horizontal">
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }



</style>

			
			    <Table class="alerttable" id="ReportSelect" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
		
          <td style="width:300px;"> Event</td>
          <td style="width:100px;"> Span</td>    
          <td style="width:100px;"> Interval</td>
	
         <!-- <th class="control-label col-sm-2"> Get  </th> -->

			   </TR>
      </thead>
      <tbody class="alerttbody">
	  
	  
	  
				<div class="form-group">
			<!--<label class="control-label col-sm-2" for="ReportPGNTypeID">Event</label> -->
			
			
			
				
				<select style="width:300px;" class="form-control" class="col-sm-5"" data-val="true" data-val-number="The field Tracker Type must be a number." data-val-required="The Tracker Type field is required." id="ReportsID" name="ReportsID" onchange="ChangedReportsID(this);">
				<option value="/M2M/Switch/Value 0 Port">Switch Value0</option>
				<option value="/M2M/Switch/Value 1 Port">Switch Value1</option>
				<option value="/M2M/Switch/Value 2 Port">Switch Value2</option>
				<option value="/M2M/Switch/Value 3 Port">Switch Value3</option>
				<option value="/M2M/Switch/Value 4 Port">Switch Value4</option>
				<option value="/M2M/Switch/Value 5 Port">Switch Value5</option>
				<option value="/M2M/Switch/Value 6 Port">Switch Value6</option>
				<option value="/M2M/Switch/Value 7 Port">Switch Value7</option>
				<option value="/M2M/Switch/Value 8 Port">Switch Value8</option>
				<option value="/M2M/Switch/Value 9 Port">Switch Value9</option>
				<option value="/M2M/Switch/Value 10 Port">Switch Value10</option>
				<option value="/M2M/Switch/Value 11 Port">Switch Value11</option>
				<option value="/M2M/Switch/Value 12 Port">Switch Value12</option>
				<option value="/M2M/Switch/Value 13 Port">Switch Value13</option>
				<option value="/M2M/Switch/Value 14 Port">Switch Value14</option>
				<option value="/M2M/Switch/Value 15 Port">Switch Value15</option>
				</select>
			
	
			
				
			 <!-- <label class="control-label col-sm-2" for="ReportRollup">Rollup</label>  -->
			
					<select style="width:100px;" class="form-control "  id="ReportRollup" name="ReportRollup" onchange="ChangedReportRollup(this);">
					  <option value="1">1min</option>
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1440">1day</option>
					  <option value="2880">2day</option>
					  <option value="4320">3day</option>
					  <option value="5760">4day</option>
					  <option value="7200">5day</option>
					  <option value="8640">6day</option>
					  <option value="10080">1week</option>
					  <option value="20160">2weeks</option>
					  <option value="30240">3weeks</option>
					  <option value="1m">1month</option>
					  <option value="2m">2months</option>
					  <option value="2m">3months</option>
					  <option value="4m">4months</option>
					  <option value="5m">5months</option>
					  <option value="6m">6months</option>
				</select>		
			
		
			
			
			 <!-- <label class="control-label col-sm-2" for="ReportInterval">Interval</label>  -->
				
					<select style="width:100px;" class="form-control "  id="ReportInterval" name="ReportInterval" onchange="ChangedReportInterval(this);">
					  <option value="1">1min</option>
					  <option value="5">5min</option>
					  <option value="10">10min</option>
					  <option value="15">15min</option>
					  <option value="30">30min</option>
					  <option value="60">1hour</option>
					  <option value="120">2hour</option>
					  <option value="240">4hour</option>
					  <option value="360">6hour</option>
					  <option value="480">8hour</option>
					  <option value="720">12hour</option>
					  <option value="1441">1day</option>
					  <option value="2881">2day</option>
					  <option value="4321">3day</option>
					  <option value="5761">4day</option>
					  <option value="7201">5day</option>
					  <option value="8641">6day</option>
					  <option value="10081">1week</option>
					  <option value="20161">2weeks</option>
					  <option value="30241">3weeks</option>
					  <option value="40321">4weeks</option>
  
				</select>		
			

		  
				<button id="btnSettingsEventSave" name="btnValue" value="Save" class="btn btn-primary" onclick="GetReport();">Get Report</button>
				
			
			</div>
	  
	  
	  </tbody>
      
    </Table>
			
			
			
		</div>

		<div class="form-group text-center text-info" style="margin-top:10px;"  >
<div class="alertdiv" id="report_data" style="width:100%; height:10%; display: block">

    <!--
    <form name="AlertData">
      <textarea id="AlertText" name="AlertText" rows="20" style="width: 100%; display: block"></textarea>
    </form>
    -->
    <Table class="alerttable" id="ReportData" border="0" cellspacing="5" cellpadding="5" style="width:100%; display: block">

      <thead class="alertthead">
        <TR>
          <th> Timestamp</th>
		  <th> Source </th>
          <th> Mean</th>    
          <th> Min</th>
          <th> Max  </th>
          <th> Delta </th>
          <th> Count </th>
		  <th>Status</th>
			   </TR>
      </thead>
      <tbody class="alerttbody"></tbody>
      
    </Table>
    
  </div>
				</div>
		<!--
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.5.0/bootstrap-table.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.5.0/bootstrap-table.min.css" rel="stylesheet" type="text/css" />
<style>
 th {
	 background-color : #428bca;
	 color:white;
 }

button[name="refresh"] { 
    background-color: #428bca;
	 color:white;
}
</style>
	<div class="form-horizontal">
		<div class="form-group">
			<div class="text-center text-info" style="margin-top:50px;">
				<p>No tracker has been registered yet and therefore no report of GeoFences that has been triggered can be shown.</p>
				<p>Register a tracker by entering its IMEI number in the settings tab.</p>
			</div>
		</div>
	</div>
-->
		</div>
	</div>




	
	
	
	
	<script>
		$(function () { $("[data-toggle='tooltip']").tooltip(); });
	</script>


</body>

</html>

